<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>API &mdash; SuPA  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Changelog" href="changelog.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            SuPA
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="backend.html">Backend</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-supa">supa</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#supa.get_project_root"><code class="docutils literal notranslate"><span class="pre">get_project_root()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.JournalMode"><code class="docutils literal notranslate"><span class="pre">JournalMode</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supa.JournalMode.WAL"><code class="docutils literal notranslate"><span class="pre">JournalMode.WAL</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.JournalMode.TRUNCATE"><code class="docutils literal notranslate"><span class="pre">JournalMode.TRUNCATE</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.JournalMode.DELETE"><code class="docutils literal notranslate"><span class="pre">JournalMode.DELETE</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#supa.Settings"><code class="docutils literal notranslate"><span class="pre">Settings</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supa.Settings.grpc_server_max_workers"><code class="docutils literal notranslate"><span class="pre">Settings.grpc_server_max_workers</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.Settings.grpc_server_insecure_host"><code class="docutils literal notranslate"><span class="pre">Settings.grpc_server_insecure_host</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.Settings.grpc_server_insecure_port"><code class="docutils literal notranslate"><span class="pre">Settings.grpc_server_insecure_port</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.Settings.grpc_client_insecure_host"><code class="docutils literal notranslate"><span class="pre">Settings.grpc_client_insecure_host</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.Settings.grpc_client_insecure_port"><code class="docutils literal notranslate"><span class="pre">Settings.grpc_client_insecure_port</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.Settings.document_server_host"><code class="docutils literal notranslate"><span class="pre">Settings.document_server_host</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.Settings.document_server_port"><code class="docutils literal notranslate"><span class="pre">Settings.document_server_port</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.Settings.scheduler_max_workers"><code class="docutils literal notranslate"><span class="pre">Settings.scheduler_max_workers</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.Settings.database_journal_mode"><code class="docutils literal notranslate"><span class="pre">Settings.database_journal_mode</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.Settings.database_file"><code class="docutils literal notranslate"><span class="pre">Settings.database_file</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.Settings.topology_freshness"><code class="docutils literal notranslate"><span class="pre">Settings.topology_freshness</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.Settings.log_level"><code class="docutils literal notranslate"><span class="pre">Settings.log_level</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.Settings.domain"><code class="docutils literal notranslate"><span class="pre">Settings.domain</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.Settings.topology"><code class="docutils literal notranslate"><span class="pre">Settings.topology</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.Settings.manual_topology"><code class="docutils literal notranslate"><span class="pre">Settings.manual_topology</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.Settings.reserve_timeout"><code class="docutils literal notranslate"><span class="pre">Settings.reserve_timeout</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.Settings.backend"><code class="docutils literal notranslate"><span class="pre">Settings.backend</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.Settings.nsa_scheme"><code class="docutils literal notranslate"><span class="pre">Settings.nsa_scheme</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.Settings.nsa_host"><code class="docutils literal notranslate"><span class="pre">Settings.nsa_host</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.Settings.nsa_port"><code class="docutils literal notranslate"><span class="pre">Settings.nsa_port</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.Settings.nsa_name"><code class="docutils literal notranslate"><span class="pre">Settings.nsa_name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.Settings.nsa_provider_path"><code class="docutils literal notranslate"><span class="pre">Settings.nsa_provider_path</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.Settings.nsa_topology_path"><code class="docutils literal notranslate"><span class="pre">Settings.nsa_topology_path</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.Settings.nsa_discovery_path"><code class="docutils literal notranslate"><span class="pre">Settings.nsa_discovery_path</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.Settings.nsa_owner_timestamp"><code class="docutils literal notranslate"><span class="pre">Settings.nsa_owner_timestamp</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.Settings.nsa_owner_firstname"><code class="docutils literal notranslate"><span class="pre">Settings.nsa_owner_firstname</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.Settings.nsa_owner_lastname"><code class="docutils literal notranslate"><span class="pre">Settings.nsa_owner_lastname</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.Settings.nsa_latitude"><code class="docutils literal notranslate"><span class="pre">Settings.nsa_latitude</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.Settings.nsa_longitude"><code class="docutils literal notranslate"><span class="pre">Settings.nsa_longitude</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.Settings.topology_name"><code class="docutils literal notranslate"><span class="pre">Settings.topology_name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.Settings.nsa_exposed_url"><code class="docutils literal notranslate"><span class="pre">Settings.nsa_exposed_url</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.Settings.Config"><code class="docutils literal notranslate"><span class="pre">Settings.Config</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.Settings.get_nsa_id"><code class="docutils literal notranslate"><span class="pre">Settings.get_nsa_id()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#supa.resolve_env_file"><code class="docutils literal notranslate"><span class="pre">resolve_env_file()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.resolve_database_file"><code class="docutils literal notranslate"><span class="pre">resolve_database_file()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.settings"><code class="docutils literal notranslate"><span class="pre">settings</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.UnconfiguredScheduler"><code class="docutils literal notranslate"><span class="pre">UnconfiguredScheduler</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supa.UnconfiguredScheduler.exc_msg"><code class="docutils literal notranslate"><span class="pre">UnconfiguredScheduler.exc_msg</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.UnconfiguredScheduler.shutdown"><code class="docutils literal notranslate"><span class="pre">UnconfiguredScheduler.shutdown()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.UnconfiguredScheduler.wakeup"><code class="docutils literal notranslate"><span class="pre">UnconfiguredScheduler.wakeup()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.UnconfiguredScheduler.start"><code class="docutils literal notranslate"><span class="pre">UnconfiguredScheduler.start()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.UnconfiguredScheduler.add_job"><code class="docutils literal notranslate"><span class="pre">UnconfiguredScheduler.add_job()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#supa.scheduler"><code class="docutils literal notranslate"><span class="pre">scheduler</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.init_app"><code class="docutils literal notranslate"><span class="pre">init_app()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.recover_jobs"><code class="docutils literal notranslate"><span class="pre">recover_jobs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-supa.const">supa.const</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#supa.const.SERVICE_TYPE"><code class="docutils literal notranslate"><span class="pre">SERVICE_TYPE</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-supa.main">supa.main</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#supa.main.CommonOptionsState"><code class="docutils literal notranslate"><span class="pre">CommonOptionsState</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.main.pass_common_options_state"><code class="docutils literal notranslate"><span class="pre">pass_common_options_state()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.main.database_file_option"><code class="docutils literal notranslate"><span class="pre">database_file_option()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.main.log_level_option"><code class="docutils literal notranslate"><span class="pre">log_level_option()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.main.common_options"><code class="docutils literal notranslate"><span class="pre">common_options()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa">supa</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supa-connection">connection</a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa-reservation">reservation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa-serve">serve</a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa-stp">stp</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-supa.db.session">supa.db.session</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.db.session.set_sqlite_pragma"><code class="docutils literal notranslate"><span class="pre">set_sqlite_pragma()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.db.session.UnconfiguredSession"><code class="docutils literal notranslate"><span class="pre">UnconfiguredSession</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.db.session.Session"><code class="docutils literal notranslate"><span class="pre">Session</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.db.session.db_session"><code class="docutils literal notranslate"><span class="pre">db_session()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-supa.db.model">supa.db.model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#surrogate-keys-versus-natural-keys">Surrogate keys versus natural keys</a></li>
<li class="toctree-l3"><a class="reference internal" href="#connection-ids">Connection IDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sqlalchemy-model-dependency-diagram">SQLAlchemy Model Dependency Diagram</a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.db.model.Uuid"><code class="docutils literal notranslate"><span class="pre">Uuid</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supa.db.model.Uuid.process_bind_param"><code class="docutils literal notranslate"><span class="pre">Uuid.process_bind_param()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.db.model.Uuid.process_result_value"><code class="docutils literal notranslate"><span class="pre">Uuid.process_result_value()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#supa.db.model.ReprBase"><code class="docutils literal notranslate"><span class="pre">ReprBase</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.db.model.UtcTimestampException"><code class="docutils literal notranslate"><span class="pre">UtcTimestampException</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.db.model.UtcTimestamp"><code class="docutils literal notranslate"><span class="pre">UtcTimestamp</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supa.db.model.UtcTimestamp.process_bind_param"><code class="docutils literal notranslate"><span class="pre">UtcTimestamp.process_bind_param()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.db.model.UtcTimestamp.process_result_value"><code class="docutils literal notranslate"><span class="pre">UtcTimestamp.process_result_value()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#supa.db.model.Reservation"><code class="docutils literal notranslate"><span class="pre">Reservation</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supa.db.model.Reservation.src_stp"><code class="docutils literal notranslate"><span class="pre">Reservation.src_stp()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.db.model.Reservation.dst_stp"><code class="docutils literal notranslate"><span class="pre">Reservation.dst_stp()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#supa.db.model.PathTrace"><code class="docutils literal notranslate"><span class="pre">PathTrace</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.db.model.Path"><code class="docutils literal notranslate"><span class="pre">Path</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.db.model.Segment"><code class="docutils literal notranslate"><span class="pre">Segment</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.db.model.Stp"><code class="docutils literal notranslate"><span class="pre">Stp</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.db.model.Parameter"><code class="docutils literal notranslate"><span class="pre">Parameter</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.db.model.Topology"><code class="docutils literal notranslate"><span class="pre">Topology</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.db.model.Connection"><code class="docutils literal notranslate"><span class="pre">Connection</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.db.model.connection_to_dict"><code class="docutils literal notranslate"><span class="pre">connection_to_dict()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.db.model.Notification"><code class="docutils literal notranslate"><span class="pre">Notification</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.db.model.Result"><code class="docutils literal notranslate"><span class="pre">Result</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-supa.job.shared">supa.job.shared</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#supa.job.shared.Job"><code class="docutils literal notranslate"><span class="pre">Job</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.shared.Job.__call__"><code class="docutils literal notranslate"><span class="pre">Job.__call__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.shared.Job.recover"><code class="docutils literal notranslate"><span class="pre">Job.recover()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.shared.Job.trigger"><code class="docutils literal notranslate"><span class="pre">Job.trigger()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.shared.Job.job_id"><code class="docutils literal notranslate"><span class="pre">Job.job_id</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#supa.job.shared.NsiException"><code class="docutils literal notranslate"><span class="pre">NsiException</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.shared.NsiException.nsi_error"><code class="docutils literal notranslate"><span class="pre">NsiException.nsi_error</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.shared.NsiException.extra_info"><code class="docutils literal notranslate"><span class="pre">NsiException.extra_info</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.shared.NsiException.variables"><code class="docutils literal notranslate"><span class="pre">NsiException.variables</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.shared.NsiException.text"><code class="docutils literal notranslate"><span class="pre">NsiException.text</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#supa.job.shared.register_notification"><code class="docutils literal notranslate"><span class="pre">register_notification()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.job.shared.register_result"><code class="docutils literal notranslate"><span class="pre">register_result()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-supa.job.reserve">supa.job.reserve</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#supa.job.reserve.StpResources"><code class="docutils literal notranslate"><span class="pre">StpResources</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.reserve.StpResources.bandwidth"><code class="docutils literal notranslate"><span class="pre">StpResources.bandwidth</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.reserve.StpResources.vlans"><code class="docutils literal notranslate"><span class="pre">StpResources.vlans</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#supa.job.reserve.ReserveJob"><code class="docutils literal notranslate"><span class="pre">ReserveJob</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.reserve.ReserveJob.recover"><code class="docutils literal notranslate"><span class="pre">ReserveJob.recover()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.reserve.ReserveJob.trigger"><code class="docutils literal notranslate"><span class="pre">ReserveJob.trigger()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#supa.job.reserve.ReserveCommitJob"><code class="docutils literal notranslate"><span class="pre">ReserveCommitJob</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.reserve.ReserveCommitJob.recover"><code class="docutils literal notranslate"><span class="pre">ReserveCommitJob.recover()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.reserve.ReserveCommitJob.trigger"><code class="docutils literal notranslate"><span class="pre">ReserveCommitJob.trigger()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#supa.job.reserve.ReserveAbortJob"><code class="docutils literal notranslate"><span class="pre">ReserveAbortJob</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.reserve.ReserveAbortJob.recover"><code class="docutils literal notranslate"><span class="pre">ReserveAbortJob.recover()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.reserve.ReserveAbortJob.trigger"><code class="docutils literal notranslate"><span class="pre">ReserveAbortJob.trigger()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#supa.job.reserve.ReserveTimeoutJob"><code class="docutils literal notranslate"><span class="pre">ReserveTimeoutJob</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.reserve.ReserveTimeoutJob.recover"><code class="docutils literal notranslate"><span class="pre">ReserveTimeoutJob.recover()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.reserve.ReserveTimeoutJob.trigger"><code class="docutils literal notranslate"><span class="pre">ReserveTimeoutJob.trigger()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-supa.job.provision">supa.job.provision</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#supa.job.provision.ProvisionJob"><code class="docutils literal notranslate"><span class="pre">ProvisionJob</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.provision.ProvisionJob.recover"><code class="docutils literal notranslate"><span class="pre">ProvisionJob.recover()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.provision.ProvisionJob.trigger"><code class="docutils literal notranslate"><span class="pre">ProvisionJob.trigger()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#supa.job.provision.ReleaseJob"><code class="docutils literal notranslate"><span class="pre">ReleaseJob</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.provision.ReleaseJob.recover"><code class="docutils literal notranslate"><span class="pre">ReleaseJob.recover()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.provision.ReleaseJob.trigger"><code class="docutils literal notranslate"><span class="pre">ReleaseJob.trigger()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-supa.job.lifecycle">supa.job.lifecycle</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#supa.job.lifecycle.TerminateJob"><code class="docutils literal notranslate"><span class="pre">TerminateJob</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.lifecycle.TerminateJob.recover"><code class="docutils literal notranslate"><span class="pre">TerminateJob.recover()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.lifecycle.TerminateJob.trigger"><code class="docutils literal notranslate"><span class="pre">TerminateJob.trigger()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-supa.job.query">supa.job.query</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#supa.job.query.create_query_confirmed_request"><code class="docutils literal notranslate"><span class="pre">create_query_confirmed_request()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.job.query.create_query_notification_confirmed_request"><code class="docutils literal notranslate"><span class="pre">create_query_notification_confirmed_request()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.job.query.create_query_result_confirmed_request"><code class="docutils literal notranslate"><span class="pre">create_query_result_confirmed_request()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.job.query.QuerySummaryJob"><code class="docutils literal notranslate"><span class="pre">QuerySummaryJob</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.query.QuerySummaryJob.recover"><code class="docutils literal notranslate"><span class="pre">QuerySummaryJob.recover()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.query.QuerySummaryJob.trigger"><code class="docutils literal notranslate"><span class="pre">QuerySummaryJob.trigger()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#supa.job.query.QueryRecursiveJob"><code class="docutils literal notranslate"><span class="pre">QueryRecursiveJob</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.query.QueryRecursiveJob.recover"><code class="docutils literal notranslate"><span class="pre">QueryRecursiveJob.recover()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.query.QueryRecursiveJob.trigger"><code class="docutils literal notranslate"><span class="pre">QueryRecursiveJob.trigger()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#supa.job.query.QueryNotificationJob"><code class="docutils literal notranslate"><span class="pre">QueryNotificationJob</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.query.QueryNotificationJob.recover"><code class="docutils literal notranslate"><span class="pre">QueryNotificationJob.recover()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.query.QueryNotificationJob.trigger"><code class="docutils literal notranslate"><span class="pre">QueryNotificationJob.trigger()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#supa.job.query.QueryResultJob"><code class="docutils literal notranslate"><span class="pre">QueryResultJob</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.query.QueryResultJob.recover"><code class="docutils literal notranslate"><span class="pre">QueryResultJob.recover()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.query.QueryResultJob.trigger"><code class="docutils literal notranslate"><span class="pre">QueryResultJob.trigger()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-supa.job.dataplane">supa.job.dataplane</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#supa.job.dataplane.ActivateJob"><code class="docutils literal notranslate"><span class="pre">ActivateJob</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.dataplane.ActivateJob.recover"><code class="docutils literal notranslate"><span class="pre">ActivateJob.recover()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.dataplane.ActivateJob.trigger"><code class="docutils literal notranslate"><span class="pre">ActivateJob.trigger()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#supa.job.dataplane.DeactivateJob"><code class="docutils literal notranslate"><span class="pre">DeactivateJob</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.dataplane.DeactivateJob.recover"><code class="docutils literal notranslate"><span class="pre">DeactivateJob.recover()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.dataplane.DeactivateJob.trigger"><code class="docutils literal notranslate"><span class="pre">DeactivateJob.trigger()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#supa.job.dataplane.AutoStartJob"><code class="docutils literal notranslate"><span class="pre">AutoStartJob</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.dataplane.AutoStartJob.recover"><code class="docutils literal notranslate"><span class="pre">AutoStartJob.recover()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.dataplane.AutoStartJob.trigger"><code class="docutils literal notranslate"><span class="pre">AutoStartJob.trigger()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#supa.job.dataplane.AutoEndJob"><code class="docutils literal notranslate"><span class="pre">AutoEndJob</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.dataplane.AutoEndJob.recover"><code class="docutils literal notranslate"><span class="pre">AutoEndJob.recover()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.job.dataplane.AutoEndJob.trigger"><code class="docutils literal notranslate"><span class="pre">AutoEndJob.trigger()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-supa.connection.fsm">supa.connection.fsm</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#supa.connection.fsm.SuPAStateMachine"><code class="docutils literal notranslate"><span class="pre">SuPAStateMachine</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supa.connection.fsm.SuPAStateMachine.on_enter_state"><code class="docutils literal notranslate"><span class="pre">SuPAStateMachine.on_enter_state()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#supa.connection.fsm.ReservationStateMachine"><code class="docutils literal notranslate"><span class="pre">ReservationStateMachine</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.connection.fsm.ProvisionStateMachine"><code class="docutils literal notranslate"><span class="pre">ProvisionStateMachine</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.connection.fsm.LifecycleStateMachine"><code class="docutils literal notranslate"><span class="pre">LifecycleStateMachine</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.connection.fsm.DataPlaneStateMachine"><code class="docutils literal notranslate"><span class="pre">DataPlaneStateMachine</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-supa.connection.error">supa.connection.error</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#supa.connection.error.Variable"><code class="docutils literal notranslate"><span class="pre">Variable</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.connection.error.NsiError"><code class="docutils literal notranslate"><span class="pre">NsiError</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supa.connection.error.NsiError.error_id"><code class="docutils literal notranslate"><span class="pre">NsiError.error_id</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.connection.error.NsiError.error_code"><code class="docutils literal notranslate"><span class="pre">NsiError.error_code</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.connection.error.NsiError.descriptive_text"><code class="docutils literal notranslate"><span class="pre">NsiError.descriptive_text</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-supa.connection.requester">supa.connection.requester</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#supa.connection.requester.get_stub"><code class="docutils literal notranslate"><span class="pre">get_stub()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-supa.connection.provider.server">supa.connection.provider.server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#supa.connection.provider.server.ConnectionProviderService"><code class="docutils literal notranslate"><span class="pre">ConnectionProviderService</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supa.connection.provider.server.ConnectionProviderService.Reserve"><code class="docutils literal notranslate"><span class="pre">ConnectionProviderService.Reserve()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.connection.provider.server.ConnectionProviderService.ReserveCommit"><code class="docutils literal notranslate"><span class="pre">ConnectionProviderService.ReserveCommit()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.connection.provider.server.ConnectionProviderService.ReserveAbort"><code class="docutils literal notranslate"><span class="pre">ConnectionProviderService.ReserveAbort()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.connection.provider.server.ConnectionProviderService.Provision"><code class="docutils literal notranslate"><span class="pre">ConnectionProviderService.Provision()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.connection.provider.server.ConnectionProviderService.Release"><code class="docutils literal notranslate"><span class="pre">ConnectionProviderService.Release()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.connection.provider.server.ConnectionProviderService.Terminate"><code class="docutils literal notranslate"><span class="pre">ConnectionProviderService.Terminate()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.connection.provider.server.ConnectionProviderService.QuerySummary"><code class="docutils literal notranslate"><span class="pre">ConnectionProviderService.QuerySummary()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.connection.provider.server.ConnectionProviderService.QuerySummarySync"><code class="docutils literal notranslate"><span class="pre">ConnectionProviderService.QuerySummarySync()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.connection.provider.server.ConnectionProviderService.QueryRecursive"><code class="docutils literal notranslate"><span class="pre">ConnectionProviderService.QueryRecursive()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.connection.provider.server.ConnectionProviderService.QueryNotification"><code class="docutils literal notranslate"><span class="pre">ConnectionProviderService.QueryNotification()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.connection.provider.server.ConnectionProviderService.QueryNotificationSync"><code class="docutils literal notranslate"><span class="pre">ConnectionProviderService.QueryNotificationSync()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.connection.provider.server.ConnectionProviderService.QueryResult"><code class="docutils literal notranslate"><span class="pre">ConnectionProviderService.QueryResult()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.connection.provider.server.ConnectionProviderService.QueryResultSync"><code class="docutils literal notranslate"><span class="pre">ConnectionProviderService.QueryResultSync()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-supa.util.bandwidth">supa.util.bandwidth</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#supa.util.bandwidth.format_bandwidth"><code class="docutils literal notranslate"><span class="pre">format_bandwidth()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-supa.util.converter">supa.util.converter</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#supa.util.converter.to_header"><code class="docutils literal notranslate"><span class="pre">to_header()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.util.converter.to_connection_states"><code class="docutils literal notranslate"><span class="pre">to_connection_states()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.util.converter.to_service_exception"><code class="docutils literal notranslate"><span class="pre">to_service_exception()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.util.converter.to_schedule"><code class="docutils literal notranslate"><span class="pre">to_schedule()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.util.converter.to_p2p_service"><code class="docutils literal notranslate"><span class="pre">to_p2p_service()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.util.converter.to_confirm_criteria"><code class="docutils literal notranslate"><span class="pre">to_confirm_criteria()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.util.converter.to_criteria"><code class="docutils literal notranslate"><span class="pre">to_criteria()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.util.converter.to_response_header"><code class="docutils literal notranslate"><span class="pre">to_response_header()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.util.converter.to_error_request"><code class="docutils literal notranslate"><span class="pre">to_error_request()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.util.converter.to_notification_header"><code class="docutils literal notranslate"><span class="pre">to_notification_header()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.util.converter.to_data_plane_state_change_request"><code class="docutils literal notranslate"><span class="pre">to_data_plane_state_change_request()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.util.converter.to_error_event"><code class="docutils literal notranslate"><span class="pre">to_error_event()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.util.converter.to_activate_failed_event"><code class="docutils literal notranslate"><span class="pre">to_activate_failed_event()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.util.converter.to_deactivate_failed_event"><code class="docutils literal notranslate"><span class="pre">to_deactivate_failed_event()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.util.converter.to_dataplane_error_event"><code class="docutils literal notranslate"><span class="pre">to_dataplane_error_event()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.util.converter.to_forced_end_event"><code class="docutils literal notranslate"><span class="pre">to_forced_end_event()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.util.converter.to_generic_confirmed_request"><code class="docutils literal notranslate"><span class="pre">to_generic_confirmed_request()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.util.converter.to_generic_failed_request"><code class="docutils literal notranslate"><span class="pre">to_generic_failed_request()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-supa.util.timestamp">supa.util.timestamp</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#supa.util.timestamp.EPOCH"><code class="docutils literal notranslate"><span class="pre">EPOCH</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.util.timestamp.NO_END_DATE"><code class="docutils literal notranslate"><span class="pre">NO_END_DATE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.util.timestamp.current_timestamp"><code class="docutils literal notranslate"><span class="pre">current_timestamp()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.util.timestamp.as_utc_timestamp"><code class="docutils literal notranslate"><span class="pre">as_utc_timestamp()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.util.timestamp.is_specified"><code class="docutils literal notranslate"><span class="pre">is_specified()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-supa.util.nsi">supa.util.nsi</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#supa.util.nsi.URN_PREFIX"><code class="docutils literal notranslate"><span class="pre">URN_PREFIX</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.util.nsi.Stp"><code class="docutils literal notranslate"><span class="pre">Stp</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supa.util.nsi.Stp.vlan_ranges"><code class="docutils literal notranslate"><span class="pre">Stp.vlan_ranges</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#supa.util.nsi.parse_stp"><code class="docutils literal notranslate"><span class="pre">parse_stp()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#supa-util-vlan">supa.util.vlan</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#supa.util.vlan.VlanRanges"><code class="docutils literal notranslate"><span class="pre">VlanRanges</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supa.util.vlan.VlanRanges.to_list_of_tuples"><code class="docutils literal notranslate"><span class="pre">VlanRanges.to_list_of_tuples()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.util.vlan.VlanRanges.__contains__"><code class="docutils literal notranslate"><span class="pre">VlanRanges.__contains__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.util.vlan.VlanRanges.__iter__"><code class="docutils literal notranslate"><span class="pre">VlanRanges.__iter__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.util.vlan.VlanRanges.__len__"><code class="docutils literal notranslate"><span class="pre">VlanRanges.__len__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.util.vlan.VlanRanges.__str__"><code class="docutils literal notranslate"><span class="pre">VlanRanges.__str__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.util.vlan.VlanRanges.__repr__"><code class="docutils literal notranslate"><span class="pre">VlanRanges.__repr__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.util.vlan.VlanRanges.__eq__"><code class="docutils literal notranslate"><span class="pre">VlanRanges.__eq__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.util.vlan.VlanRanges.__hash__"><code class="docutils literal notranslate"><span class="pre">VlanRanges.__hash__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.util.vlan.VlanRanges.__sub__"><code class="docutils literal notranslate"><span class="pre">VlanRanges.__sub__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.util.vlan.VlanRanges.__and__"><code class="docutils literal notranslate"><span class="pre">VlanRanges.__and__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.util.vlan.VlanRanges.__or__"><code class="docutils literal notranslate"><span class="pre">VlanRanges.__or__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.util.vlan.VlanRanges.__xor__"><code class="docutils literal notranslate"><span class="pre">VlanRanges.__xor__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.util.vlan.VlanRanges.isdisjoint"><code class="docutils literal notranslate"><span class="pre">VlanRanges.isdisjoint()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.util.vlan.VlanRanges.union"><code class="docutils literal notranslate"><span class="pre">VlanRanges.union()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-supa.util.functional">supa.util.functional</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#supa.util.functional.expand_ranges"><code class="docutils literal notranslate"><span class="pre">expand_ranges()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.util.functional.to_ranges"><code class="docutils literal notranslate"><span class="pre">to_ranges()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-supa.util.find">supa.util.find</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#supa.util.find.find_file"><code class="docutils literal notranslate"><span class="pre">find_file()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.util.find.find_directory"><code class="docutils literal notranslate"><span class="pre">find_directory()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-supa.util.type">supa.util.type</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#supa.util.type.ResultType"><code class="docutils literal notranslate"><span class="pre">ResultType</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.util.type.NotificationType"><code class="docutils literal notranslate"><span class="pre">NotificationType</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#supa-nrm-backend">supa.nrm.backend</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#supa.nrm.backend.STP"><code class="docutils literal notranslate"><span class="pre">STP</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.nrm.backend.BaseBackend"><code class="docutils literal notranslate"><span class="pre">BaseBackend</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supa.nrm.backend.BaseBackend.reserve"><code class="docutils literal notranslate"><span class="pre">BaseBackend.reserve()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.nrm.backend.BaseBackend.reserve_timeout"><code class="docutils literal notranslate"><span class="pre">BaseBackend.reserve_timeout()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.nrm.backend.BaseBackend.reserve_commit"><code class="docutils literal notranslate"><span class="pre">BaseBackend.reserve_commit()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.nrm.backend.BaseBackend.reserve_abort"><code class="docutils literal notranslate"><span class="pre">BaseBackend.reserve_abort()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.nrm.backend.BaseBackend.provision"><code class="docutils literal notranslate"><span class="pre">BaseBackend.provision()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.nrm.backend.BaseBackend.release"><code class="docutils literal notranslate"><span class="pre">BaseBackend.release()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.nrm.backend.BaseBackend.activate"><code class="docutils literal notranslate"><span class="pre">BaseBackend.activate()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.nrm.backend.BaseBackend.deactivate"><code class="docutils literal notranslate"><span class="pre">BaseBackend.deactivate()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.nrm.backend.BaseBackend.terminate"><code class="docutils literal notranslate"><span class="pre">BaseBackend.terminate()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.nrm.backend.BaseBackend.topology"><code class="docutils literal notranslate"><span class="pre">BaseBackend.topology()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#supa-nrm-backends-example">supa.nrm.backends.example</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#supa.nrm.backends.example.BackendSettings"><code class="docutils literal notranslate"><span class="pre">BackendSettings</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.nrm.backends.example.Backend"><code class="docutils literal notranslate"><span class="pre">Backend</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#supa-nrm-backends-surf">supa.nrm.backends.surf</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#supa.nrm.backends.surf.BackendSettings"><code class="docutils literal notranslate"><span class="pre">BackendSettings</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.nrm.backends.surf.Backend"><code class="docutils literal notranslate"><span class="pre">Backend</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supa.nrm.backends.surf.Backend.activate"><code class="docutils literal notranslate"><span class="pre">Backend.activate()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.nrm.backends.surf.Backend.deactivate"><code class="docutils literal notranslate"><span class="pre">Backend.deactivate()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supa.nrm.backends.surf.Backend.topology"><code class="docutils literal notranslate"><span class="pre">Backend.topology()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#supa-documents-discovery">supa.documents.discovery</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#supa.documents.discovery.DiscoveryEndpoint"><code class="docutils literal notranslate"><span class="pre">DiscoveryEndpoint</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supa.documents.discovery.DiscoveryEndpoint.index"><code class="docutils literal notranslate"><span class="pre">DiscoveryEndpoint.index()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#supa-documents-topology">supa.documents.topology</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#supa.documents.topology.refresh_topology"><code class="docutils literal notranslate"><span class="pre">refresh_topology()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#supa.documents.topology.TopologyEndpoint"><code class="docutils literal notranslate"><span class="pre">TopologyEndpoint</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supa.documents.topology.TopologyEndpoint.index"><code class="docutils literal notranslate"><span class="pre">TopologyEndpoint.index()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#supa-documents-healthcheck">supa.documents.healthcheck</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#supa.documents.healthcheck.HealthcheckEndpoint"><code class="docutils literal notranslate"><span class="pre">HealthcheckEndpoint</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supa.documents.healthcheck.HealthcheckEndpoint.index"><code class="docutils literal notranslate"><span class="pre">HealthcheckEndpoint.index()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SuPA</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">API</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/api.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="api">
<h1>API<a class="headerlink" href="#api" title="Permalink to this heading"></a></h1>
<section id="module-supa">
<span id="supa"></span><h2>supa<a class="headerlink" href="#module-supa" title="Permalink to this heading"></a></h2>
<p>Initial configuration for SuPA.</p>
<p>This being the top level package,
structured logging is configured here
so that it is available everywhere else by means of:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">structlog</span>
<span class="o">...</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">structlog</span><span class="o">.</span><span class="n">get_logger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
</pre></div>
</div>
<p>All possible configurable settings are defined here as part of <a class="reference internal" href="#supa.Settings" title="supa.Settings"><code class="xref py py-class docutils literal notranslate"><span class="pre">Settings</span></code></a>.
All these settings have a default values,
that are overwritten by whatever values those settings have,
if any,
in the configuration file <code class="docutils literal notranslate"><span class="pre">supa.env</span></code>.
See also <a class="reference internal" href="#supa.resolve_env_file" title="supa.resolve_env_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">resolve_env_file()</span></code></a></p>
<dl class="py function">
<dt class="sig sig-object py" id="supa.get_project_root">
<span class="sig-prename descclassname"><span class="pre">supa.</span></span><span class="sig-name descname"><span class="pre">get_project_root</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Path</span></span></span><a class="headerlink" href="#supa.get_project_root" title="Permalink to this definition"></a></dt>
<dd><p>Return project root directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>project root directory</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.JournalMode">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.</span></span><span class="sig-name descname"><span class="pre">JournalMode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.JournalMode" title="Permalink to this definition"></a></dt>
<dd><p>A (subset) of the journal modes as supported by SQLite.</p>
<p>Preferably we should use the <a class="reference internal" href="#supa.JournalMode.WAL" title="supa.JournalMode.WAL"><code class="xref py py-attr docutils literal notranslate"><span class="pre">WAL</span></code></a> journal mode for SQLite
as that provides the best concurrency;
allowing for multiple READs to occur while a WRITE is in progress.
Without WAL,
as the journal mode,
SQLite locks the entire database as soon as a transaction starts.
As SuPA also uses SQLAlchemy,
that happens to issue a transaction upon session creation,
this could have a negative performance impact.</p>
<p>However, <a class="reference internal" href="#supa.JournalMode.WAL" title="supa.JournalMode.WAL"><code class="xref py py-attr docutils literal notranslate"><span class="pre">WAL</span></code></a> journal mode does not work well with networked file systems,
such as NFS.
This might also hold for some, or most of the Kubernetes storage volumes.
If in doubt use a <code class="docutils literal notranslate"><span class="pre">local</span></code> volume.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference external" href="https://sqlite.org/pragma.html#pragma_journal_mode">https://sqlite.org/pragma.html#pragma_journal_mode</a></p></li>
<li><p><a class="reference external" href="https://docs.sqlalchemy.org/en/13/dialects/sqlite.html?highlight=sqlite#database-locking-behavior-concurrency">https://docs.sqlalchemy.org/en/13/dialects/sqlite.html?highlight=sqlite#database-locking-behavior-concurrency</a></p></li>
<li><p><a class="reference external" href="https://kubernetes.io/docs/concepts/storage/volumes/#local">https://kubernetes.io/docs/concepts/storage/volumes/#local</a></p></li>
</ul>
</div>
<p>But dont let these warnings fool you.
SQLlite is a wickedly fast database
that matches SuPAs needs perfectly.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="supa.JournalMode.WAL">
<span class="sig-name descname"><span class="pre">WAL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'WAL'</span></em><a class="headerlink" href="#supa.JournalMode.WAL" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.JournalMode.TRUNCATE">
<span class="sig-name descname"><span class="pre">TRUNCATE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'TRUNCATE'</span></em><a class="headerlink" href="#supa.JournalMode.TRUNCATE" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.JournalMode.DELETE">
<span class="sig-name descname"><span class="pre">DELETE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'DELETE'</span></em><a class="headerlink" href="#supa.JournalMode.DELETE" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.Settings">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.</span></span><span class="sig-name descname"><span class="pre">Settings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_env_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'&lt;object</span> <span class="pre">object&gt;'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_env_file_encoding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_env_nested_delimiter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_secrets_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grpc_server_max_workers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grpc_server_insecure_host</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'localhost'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grpc_server_insecure_port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'50051'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grpc_client_insecure_host</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'localhost'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grpc_client_insecure_port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'9090'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">document_server_host</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'localhost'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">document_server_port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4321</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scheduler_max_workers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">12</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">database_journal_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#supa.JournalMode" title="supa.JournalMode"><span class="pre">JournalMode</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">JournalMode.WAL</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">database_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">PosixPath('supa.db')</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">topology_freshness</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">60</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'example.domain:2013'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">topology</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'topology'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manual_topology</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reserve_timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">120</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nsa_scheme</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'http'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nsa_host</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'localhost'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nsa_port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'8080'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nsa_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'example.domain</span> <span class="pre">uPA'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nsa_provider_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'/provider'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nsa_topology_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'/topology'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nsa_discovery_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'/discovery'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nsa_owner_timestamp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'19700101T000000Z'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nsa_owner_firstname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Firstname'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nsa_owner_lastname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Lastname'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nsa_latitude</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'-0.374350'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nsa_longitude</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'-159.996719'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">topology_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'example.domain</span> <span class="pre">topology'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nsa_start_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">datetime.datetime(2023,</span> <span class="pre">3,</span> <span class="pre">24,</span> <span class="pre">15,</span> <span class="pre">34,</span> <span class="pre">27,</span> <span class="pre">667719,</span> <span class="pre">tzinfo=datetime.timezone.utc)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.Settings" title="Permalink to this definition"></a></dt>
<dd><p>Application wide settings with default values.</p>
<p>See also: the <code class="docutils literal notranslate"><span class="pre">supa.env</span></code> file</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="supa.Settings.grpc_server_max_workers">
<span class="sig-name descname"><span class="pre">grpc_server_max_workers</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#supa.Settings.grpc_server_max_workers" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.Settings.grpc_server_insecure_host">
<span class="sig-name descname"><span class="pre">grpc_server_insecure_host</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#supa.Settings.grpc_server_insecure_host" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.Settings.grpc_server_insecure_port">
<span class="sig-name descname"><span class="pre">grpc_server_insecure_port</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#supa.Settings.grpc_server_insecure_port" title="Permalink to this definition"></a></dt>
<dd><p>The host and port SuPA is listening on.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.Settings.grpc_client_insecure_host">
<span class="sig-name descname"><span class="pre">grpc_client_insecure_host</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#supa.Settings.grpc_client_insecure_host" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.Settings.grpc_client_insecure_port">
<span class="sig-name descname"><span class="pre">grpc_client_insecure_port</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#supa.Settings.grpc_client_insecure_port" title="Permalink to this definition"></a></dt>
<dd><p>The host and port the Requester Agent/PolyNSI is listening on.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.Settings.document_server_host">
<span class="sig-name descname"><span class="pre">document_server_host</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#supa.Settings.document_server_host" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.Settings.document_server_port">
<span class="sig-name descname"><span class="pre">document_server_port</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#supa.Settings.document_server_port" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.Settings.scheduler_max_workers">
<span class="sig-name descname"><span class="pre">scheduler_max_workers</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#supa.Settings.scheduler_max_workers" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.Settings.database_journal_mode">
<span class="sig-name descname"><span class="pre">database_journal_mode</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#supa.JournalMode" title="supa.JournalMode"><span class="pre">JournalMode</span></a></em><a class="headerlink" href="#supa.Settings.database_journal_mode" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.Settings.database_file">
<span class="sig-name descname"><span class="pre">database_file</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Path</span></em><a class="headerlink" href="#supa.Settings.database_file" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.Settings.topology_freshness">
<span class="sig-name descname"><span class="pre">topology_freshness</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#supa.Settings.topology_freshness" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.Settings.log_level">
<span class="sig-name descname"><span class="pre">log_level</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#supa.Settings.log_level" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.Settings.domain">
<span class="sig-name descname"><span class="pre">domain</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#supa.Settings.domain" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.Settings.topology">
<span class="sig-name descname"><span class="pre">topology</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#supa.Settings.topology" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.Settings.manual_topology">
<span class="sig-name descname"><span class="pre">manual_topology</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#supa.Settings.manual_topology" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.Settings.reserve_timeout">
<span class="sig-name descname"><span class="pre">reserve_timeout</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#supa.Settings.reserve_timeout" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.Settings.backend">
<span class="sig-name descname"><span class="pre">backend</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#supa.Settings.backend" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.Settings.nsa_scheme">
<span class="sig-name descname"><span class="pre">nsa_scheme</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#supa.Settings.nsa_scheme" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.Settings.nsa_host">
<span class="sig-name descname"><span class="pre">nsa_host</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#supa.Settings.nsa_host" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.Settings.nsa_port">
<span class="sig-name descname"><span class="pre">nsa_port</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#supa.Settings.nsa_port" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.Settings.nsa_name">
<span class="sig-name descname"><span class="pre">nsa_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#supa.Settings.nsa_name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.Settings.nsa_provider_path">
<span class="sig-name descname"><span class="pre">nsa_provider_path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#supa.Settings.nsa_provider_path" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.Settings.nsa_topology_path">
<span class="sig-name descname"><span class="pre">nsa_topology_path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#supa.Settings.nsa_topology_path" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.Settings.nsa_discovery_path">
<span class="sig-name descname"><span class="pre">nsa_discovery_path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#supa.Settings.nsa_discovery_path" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.Settings.nsa_owner_timestamp">
<span class="sig-name descname"><span class="pre">nsa_owner_timestamp</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#supa.Settings.nsa_owner_timestamp" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.Settings.nsa_owner_firstname">
<span class="sig-name descname"><span class="pre">nsa_owner_firstname</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#supa.Settings.nsa_owner_firstname" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.Settings.nsa_owner_lastname">
<span class="sig-name descname"><span class="pre">nsa_owner_lastname</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#supa.Settings.nsa_owner_lastname" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.Settings.nsa_latitude">
<span class="sig-name descname"><span class="pre">nsa_latitude</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#supa.Settings.nsa_latitude" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.Settings.nsa_longitude">
<span class="sig-name descname"><span class="pre">nsa_longitude</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#supa.Settings.nsa_longitude" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.Settings.topology_name">
<span class="sig-name descname"><span class="pre">topology_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#supa.Settings.topology_name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="supa.Settings.nsa_exposed_url">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">nsa_exposed_url</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#supa.Settings.nsa_exposed_url" title="Permalink to this definition"></a></dt>
<dd><p>Return URL that NSA is exposed on constructed from nsa_scheme, nsa_host and nsa_port.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.Settings.Config">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Config</span></span><a class="headerlink" href="#supa.Settings.Config" title="Permalink to this definition"></a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="supa.Settings.Config.case_sensitive">
<span class="sig-name descname"><span class="pre">case_sensitive</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#supa.Settings.Config.case_sensitive" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.Settings.get_nsa_id">
<span class="sig-name descname"><span class="pre">get_nsa_id</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#supa.Settings.get_nsa_id" title="Permalink to this definition"></a></dt>
<dd><p>Construct NSA ID using Settings.domain.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.resolve_env_file">
<span class="sig-prename descclassname"><span class="pre">supa.</span></span><span class="sig-name descname"><span class="pre">resolve_env_file</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Path</span></span></span><a class="headerlink" href="#supa.resolve_env_file" title="Permalink to this definition"></a></dt>
<dd><p>Resolve env file by looking at specific locations.</p>
<p>Depending on how the project was installed
we find the env file in different locations.
When pip performs a regular install
it will process the <code class="docutils literal notranslate"><span class="pre">data_files</span></code> sections in <code class="docutils literal notranslate"><span class="pre">setup.cfg</span></code>.
The env file is specified in that section
and the location specified there (hard coded here) is the first location checked.</p>
<p>Editable pip installs do not process that section.
Hence the location of the env file can be found relative to the top level <code class="docutils literal notranslate"><span class="pre">supa</span></code> package in the source tree
(where this code is located).
This is the second location checked.</p>
<p>If none of these locations results in finding the env file we give up.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The path where the env file was found or <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>FileNotFoundError</strong>  if the env file could not be resolved/found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.resolve_database_file">
<span class="sig-prename descclassname"><span class="pre">supa.</span></span><span class="sig-name descname"><span class="pre">resolve_database_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">database_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Path</span></span></span><a class="headerlink" href="#supa.resolve_database_file" title="Permalink to this definition"></a></dt>
<dd><p>Resolve the location of the database file.</p>
<p>SQLite stores its database in a file.
If the file does not exist,
it will be created automatically.
This means that if we get the reference to that file wrong,
a new one will be created.
This leads to all kinds of unexpected problems.
Hence we need a way to predictably resolve the location of the database file.
<a class="reference internal" href="#supa.resolve_database_file" title="supa.resolve_database_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">resolve_database_file()</span></code></a> uses the following algorithm:</p>
<p>If <code class="docutils literal notranslate"><span class="pre">database_file</span></code> is an absolute path, we are done.
Otherwise determine if SuPA was installed normally
or in editable mode/development mode.
In case of the former
resolve <code class="docutils literal notranslate"><span class="pre">database_file</span></code> relative to <code class="docutils literal notranslate"><span class="pre">&lt;venv_dir&gt;/var/db</span></code>
In case of the latter resolve <code class="docutils literal notranslate"><span class="pre">database_file</span></code> relative to the project root.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>database_file</strong>  relative or absolute filename of database file</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Fully resolved/obsolute path name to database file</p>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="supa.settings">
<span class="sig-prename descclassname"><span class="pre">supa.</span></span><span class="sig-name descname"><span class="pre">settings</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">Settings(grpc_server_max_workers=8,</span> <span class="pre">grpc_server_insecure_host='localhost',</span> <span class="pre">grpc_server_insecure_port='50051',</span> <span class="pre">grpc_client_insecure_host='localhost',</span> <span class="pre">grpc_client_insecure_port='9090',</span> <span class="pre">document_server_host='localhost',</span> <span class="pre">document_server_port=4321,</span> <span class="pre">scheduler_max_workers=12,</span> <span class="pre">database_journal_mode=&lt;JournalMode.WAL:</span> <span class="pre">'WAL'&gt;,</span> <span class="pre">database_file=PosixPath('supa.db'),</span> <span class="pre">topology_freshness=60,</span> <span class="pre">log_level='INFO',</span> <span class="pre">domain='example.domain:2001',</span> <span class="pre">topology='topology',</span> <span class="pre">manual_topology=False,</span> <span class="pre">reserve_timeout=120,</span> <span class="pre">backend='',</span> <span class="pre">nsa_scheme='http',</span> <span class="pre">nsa_host='localhost',</span> <span class="pre">nsa_port='8080',</span> <span class="pre">nsa_name='example.domain</span> <span class="pre">uPA',</span> <span class="pre">nsa_provider_path='/provider',</span> <span class="pre">nsa_topology_path='/topology',</span> <span class="pre">nsa_discovery_path='/discovery',</span> <span class="pre">nsa_owner_timestamp='19700101T000000Z',</span> <span class="pre">nsa_owner_firstname='Firstname',</span> <span class="pre">nsa_owner_lastname='Lastname',</span> <span class="pre">nsa_latitude='-0.374350',</span> <span class="pre">nsa_longitude='-159.996719',</span> <span class="pre">topology_name='example.domain</span> <span class="pre">topology',</span> <span class="pre">nsa_start_time=datetime.datetime(2023,</span> <span class="pre">3,</span> <span class="pre">24,</span> <span class="pre">15,</span> <span class="pre">34,</span> <span class="pre">27,</span> <span class="pre">667719,</span> <span class="pre">tzinfo=datetime.timezone.utc))</span></em><a class="headerlink" href="#supa.settings" title="Permalink to this definition"></a></dt>
<dd><p>Application wide settings.</p>
<p>Initially this only has the settings,
as specified in the env file and environment,
resolved.
Command line processing should overwrite specific settings,
when appropriate,
to reflect that this takes precedence.
As a result you should see code updating <a class="reference internal" href="#supa.settings" title="supa.settings"><code class="xref py py-attr docutils literal notranslate"><span class="pre">settings</span></code></a> in most,
if not all,
Click callables (sub commands) defined in <a class="reference internal" href="#module-supa.main" title="supa.main"><code class="xref py py-mod docutils literal notranslate"><span class="pre">supa.main</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.UnconfiguredScheduler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.</span></span><span class="sig-name descname"><span class="pre">UnconfiguredScheduler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gconfig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.UnconfiguredScheduler" title="Permalink to this definition"></a></dt>
<dd><p>Fail safe fake scheduler to guard against premature scheduler usage.</p>
<p>The BackgroundScheduler can only be initialized after all settings have been resolved.
This means that we cannot initialize it at the module level.
After all,
at the time this module is being executed the default settings
and those of the env file have been processed,
those specified on the commend line might not have been processed.
At the same time we want to keep easy access to the <a class="reference internal" href="#supa.scheduler" title="supa.scheduler"><code class="xref py py-data docutils literal notranslate"><span class="pre">scheduler</span></code></a> as a module level attribute.
So we configure the <a class="reference internal" href="#supa.scheduler" title="supa.scheduler"><code class="xref py py-data docutils literal notranslate"><span class="pre">scheduler</span></code></a> with this safe guard class
only to overwrite it with the real thing after command line options have been processed.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="supa.UnconfiguredScheduler.exc_msg">
<span class="sig-name descname"><span class="pre">exc_msg</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Scheduler</span> <span class="pre">has</span> <span class="pre">not</span> <span class="pre">yet</span> <span class="pre">been</span> <span class="pre">initialized.</span> <span class="pre">Call</span> <span class="pre">`main.init_app`</span> <span class="pre">first.</span> <span class="pre">Only</span> <span class="pre">then</span> <span class="pre">(locally)</span> <span class="pre">import</span> <span class="pre">`scheduler`.\n\nIMPORTANT\n==========\nMake</span> <span class="pre">sure</span> <span class="pre">you</span> <span class="pre">have</span> <span class="pre">processed</span> <span class="pre">all</span> <span class="pre">the</span> <span class="pre">different</span> <span class="pre">ways</span> <span class="pre">of</span> <span class="pre">dealing</span> <span class="pre">with</span> <span class="pre">application\nconfiguration</span> <span class="pre">before</span> <span class="pre">you</span> <span class="pre">call</span> <span class="pre">`main.init_app`.</span>&#160; <span class="pre">The</span> <span class="pre">env</span> <span class="pre">file</span> <span class="pre">(`supa.env`)</span> <span class="pre">and\nthe</span> <span class="pre">environment</span> <span class="pre">are</span> <span class="pre">handled</span> <span class="pre">automatically</span> <span class="pre">by</span> <span class="pre">the</span> <span class="pre">`supa.settings`</span> <span class="pre">instance.\nHowever</span> <span class="pre">anything</span> <span class="pre">specified</span> <span class="pre">on</span> <span class="pre">the</span> <span class="pre">command</span> <span class="pre">line</span> <span class="pre">generally</span> <span class="pre">needs</span> <span class="pre">to</span> <span class="pre">be</span> <span class="pre">processed\nexplicitly</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">module</span> <span class="pre">`supa.main`.\n'</span></em><a class="headerlink" href="#supa.UnconfiguredScheduler.exc_msg" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.UnconfiguredScheduler.shutdown">
<span class="sig-name descname"><span class="pre">shutdown</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wait</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.UnconfiguredScheduler.shutdown" title="Permalink to this definition"></a></dt>
<dd><p>Trap premature call and raise an exception.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.UnconfiguredScheduler.wakeup">
<span class="sig-name descname"><span class="pre">wakeup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#supa.UnconfiguredScheduler.wakeup" title="Permalink to this definition"></a></dt>
<dd><p>Trap premature call and raise an exception.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.UnconfiguredScheduler.start">
<span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paused</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.UnconfiguredScheduler.start" title="Permalink to this definition"></a></dt>
<dd><p>Trap premature calls and raise an exception.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.UnconfiguredScheduler.add_job">
<span class="sig-name descname"><span class="pre">add_job</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trigger=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">misfire_grace_time=&lt;undefined&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coalesce=&lt;undefined&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_instances=&lt;undefined&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">next_run_time=&lt;undefined&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jobstore='default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">executor='default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace_existing=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**trigger_args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.UnconfiguredScheduler.add_job" title="Permalink to this definition"></a></dt>
<dd><p>Trap premature calls and raise an exception.</p>
</dd></dl>

</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="supa.scheduler">
<span class="sig-prename descclassname"><span class="pre">supa.</span></span><span class="sig-name descname"><span class="pre">scheduler</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;supa.UnconfiguredScheduler</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#supa.scheduler" title="Permalink to this definition"></a></dt>
<dd><p>Application scheduler for scheduling and executing jobs</p>
<p><a class="reference internal" href="#supa.scheduler" title="supa.scheduler"><code class="xref py py-data docutils literal notranslate"><span class="pre">scheduler</span></code></a> can only be used after a call to <code class="xref py py-func docutils literal notranslate"><span class="pre">main.init_app()</span></code>.
That,
in turn,
can only be called after all application configuration has been resolved,
eg. after command line processing.
<code class="xref py py-func docutils literal notranslate"><span class="pre">main.init_app()</span></code> will replace <a class="reference internal" href="#supa.scheduler" title="supa.scheduler"><code class="xref py py-data docutils literal notranslate"><span class="pre">scheduler</span></code></a> with a proper <code class="docutils literal notranslate"><span class="pre">BackgroundScheduler</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.init_app">
<span class="sig-prename descclassname"><span class="pre">supa.</span></span><span class="sig-name descname"><span class="pre">init_app</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">with_scheduler</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#supa.init_app" title="Permalink to this definition"></a></dt>
<dd><p>Initialize the application (database, scheduler, etc) and recover jobs``.</p>
<p><a class="reference internal" href="#supa.init_app" title="supa.init_app"><code class="xref py py-func docutils literal notranslate"><span class="pre">init_app()</span></code></a> should only be called after <strong>all</strong> application configuration has been resolved.
Most of that happens implicitly in <a class="reference internal" href="#module-supa" title="supa"><code class="xref py py-mod docutils literal notranslate"><span class="pre">supa</span></code></a>,
but some of needs to be done after processing command line options.</p>
<p>For instance, <a class="reference internal" href="#supa.init_app" title="supa.init_app"><code class="xref py py-func docutils literal notranslate"><span class="pre">init_app()</span></code></a> assumes <a class="reference internal" href="#supa.settings" title="supa.settings"><code class="xref py py-data docutils literal notranslate"><span class="pre">settings</span></code></a>
(the <a class="reference internal" href="#supa.Settings.database_file" title="supa.Settings.database_file"><code class="xref py py-attr docutils literal notranslate"><span class="pre">database_file</span></code></a> attribute of it)
has been updated <strong>after</strong> command line processing,
that is, if the setting was changed on the command line.
That way the command line options have had the ability
to override the default values, those of the env file and environment variables.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only import <code class="xref py py-data docutils literal notranslate"><span class="pre">supa.db.Session</span></code> after the call to <a class="reference internal" href="#supa.init_app" title="supa.init_app"><code class="xref py py-func docutils literal notranslate"><span class="pre">init_app()</span></code></a>.
If imported earlier, <code class="xref py py-data docutils literal notranslate"><span class="pre">supa.db.Session</span></code> will refer to <code class="xref py py-class docutils literal notranslate"><span class="pre">supa.db.UnconfiguredSession</span></code>
and you will get a nice exception upon usage.</p>
<p>Likewise only import <a class="reference internal" href="#supa.scheduler" title="supa.scheduler"><code class="xref py py-data docutils literal notranslate"><span class="pre">scheduler</span></code></a> after the call to <a class="reference internal" href="#supa.init_app" title="supa.init_app"><code class="xref py py-func docutils literal notranslate"><span class="pre">init_app()</span></code></a>.
If imported earlier, <a class="reference internal" href="#supa.scheduler" title="supa.scheduler"><code class="xref py py-data docutils literal notranslate"><span class="pre">scheduler</span></code></a> will refer to <a class="reference internal" href="#supa.UnconfiguredScheduler" title="supa.UnconfiguredScheduler"><code class="xref py py-class docutils literal notranslate"><span class="pre">UnconfiguredScheduler</span></code></a>
and you will get an equally nice exception.</p>
</div>
<p>If the scheduler is to be initialized as well (see: <code class="xref py py-attr docutils literal notranslate"><span class="pre">with_scheduler</span></code>)
it will also be started.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>with_scheduler</strong>  if True, initialize and start scheduler. If False, dont.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.recover_jobs">
<span class="sig-prename descclassname"><span class="pre">supa.</span></span><span class="sig-name descname"><span class="pre">recover_jobs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#supa.recover_jobs" title="Permalink to this definition"></a></dt>
<dd><p>Recover jobs from a previous run with_scheduler.</p>
<p><a class="reference internal" href="#supa.recover_jobs" title="supa.recover_jobs"><code class="xref py py-func docutils literal notranslate"><span class="pre">recover_jobs()</span></code></a> should only be called after <a class="reference internal" href="#supa.init_app" title="supa.init_app"><code class="xref py py-func docutils literal notranslate"><span class="pre">init_app()</span></code></a> was called
and the scheduler is running.</p>
<p>Try to recover all jobs that did not finish.
All af SuPAs asynchronous work is performed by jobs that the scheduler schedules.
If SuPA is terminated before these jobs have had a chance to run to completion,
they might be recovered by looking at the state of their work in the database.</p>
<p>See Also: <a class="reference internal" href="#supa.job.shared.Job" title="supa.job.shared.Job"><code class="xref py py-class docutils literal notranslate"><span class="pre">supa.job.shared.Job</span></code></a></p>
</dd></dl>

</section>
<section id="module-supa.const">
<span id="supa-const"></span><h2>supa.const<a class="headerlink" href="#module-supa.const" title="Permalink to this heading"></a></h2>
<p>Application wide constants.</p>
<dl class="py data">
<dt class="sig sig-object py" id="supa.const.SERVICE_TYPE">
<span class="sig-prename descclassname"><span class="pre">supa.const.</span></span><span class="sig-name descname"><span class="pre">SERVICE_TYPE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'http://services.ogf.org/nsi/2013/12/descriptions/EVTS.A-GOLE'</span></em><a class="headerlink" href="#supa.const.SERVICE_TYPE" title="Permalink to this definition"></a></dt>
<dd><p>Currently only one Service Type is supported.</p>
</dd></dl>

</section>
<section id="module-supa.main">
<span id="supa-main"></span><h2>supa.main<a class="headerlink" href="#module-supa.main" title="Permalink to this heading"></a></h2>
<p>SuPA main entry point.</p>
<p>SuPA has a single entry point defined in this module,
namely <code class="xref py py-func docutils literal notranslate"><span class="pre">cli()</span></code>.
That is what is executed when the <code class="docutils literal notranslate"><span class="pre">supa</span></code> command is issued from the command-line.</p>
<p>The other <code class="docutils literal notranslate"><span class="pre">&#64;cli.command</span></code> annotated functions in this modules implement the various sub-commands.</p>
<dl class="py class">
<dt class="sig sig-object py" id="supa.main.CommonOptionsState">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.main.</span></span><span class="sig-name descname"><span class="pre">CommonOptionsState</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">database_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.main.CommonOptionsState" title="Permalink to this definition"></a></dt>
<dd><p>Class to capture common options shared between Click callables/sub commands.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.main.pass_common_options_state">
<span class="sig-prename descclassname"><span class="pre">supa.main.</span></span><span class="sig-name descname"><span class="pre">pass_common_options_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">F</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">F</span></span></span><a class="headerlink" href="#supa.main.pass_common_options_state" title="Permalink to this definition"></a></dt>
<dd><p>Define custom decorator to pass in an CommonOptionState instance as first argument.</p>
<p>When decorating a Click callable/sub command with the :func`common_options` decorator
the Click options defined in that decorator will become part of the sub command
as if they where defined directly on the sub command.
These common options however will not be pass in the argument list to the sub command.
Reason being that we dont know beforehand how many extra common options <a class="reference internal" href="#supa.main.common_options" title="supa.main.common_options"><code class="xref py py-func docutils literal notranslate"><span class="pre">common_options()</span></code></a> defines,
or if that number later changes possibly breaking existing code.
Instead we want a single state capturing object to be passed in.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@cli</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="n">context_settings</span><span class="o">=</span><span class="n">CONTEXT_SETTINGS</span><span class="p">)</span>
<span class="nd">@click</span><span class="o">.</span><span class="n">option</span><span class="p">(</span><span class="s2">&quot;--fu&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="nd">@click</span><span class="o">.</span><span class="n">option</span><span class="p">(</span><span class="s2">&quot;--bar&quot;</span><span class="p">,</span><span class="o">...</span><span class="p">)</span>
<span class="nd">@common_options</span>              <span class="c1"># &lt;--- usage</span>
<span class="nd">@pass_common_options_state</span>   <span class="c1"># &lt;--- usage</span>
<span class="k">def</span> <span class="nf">my_sub_command</span><span class="p">(</span><span class="n">common_options</span><span class="p">:</span> <span class="n">CommonOptionsState</span><span class="p">,</span> <span class="n">fu</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">bar</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="c1"># explicitly update ``settings`&#39; attributes if they match command line options</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">fu</span> <span class="o">=</span> <span class="n">fu</span>
    <span class="n">settings</span><span class="o">.</span><span class="n">bar</span> <span class="o">=</span> <span class="n">bar</span>
    <span class="o">...</span>
    <span class="c1"># with all settings resolved, we can now initialize the application properly.</span>
    <span class="n">init_app</span><span class="p">()</span>

    <span class="c1"># actual sub command stuff</span>
    <span class="o">...</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.main.database_file_option">
<span class="sig-prename descclassname"><span class="pre">supa.main.</span></span><span class="sig-name descname"><span class="pre">database_file_option</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.main.database_file_option" title="Permalink to this definition"></a></dt>
<dd><p>Define common option for specifying database file location.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.main.log_level_option">
<span class="sig-prename descclassname"><span class="pre">supa.main.</span></span><span class="sig-name descname"><span class="pre">log_level_option</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.main.log_level_option" title="Permalink to this definition"></a></dt>
<dd><p>Define common option for specifying log level.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.main.common_options">
<span class="sig-prename descclassname"><span class="pre">supa.main.</span></span><span class="sig-name descname"><span class="pre">common_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.main.common_options" title="Permalink to this definition"></a></dt>
<dd><p>Provide the means to declare common options to Click callables/sub command.</p>
</dd></dl>

<section id="supa">
<h3>supa<a class="headerlink" href="#supa" title="Permalink to this heading"></a></h3>
<p>Manage the SURF ultimate Provider Agent from the command line.</p>
<p>Configuration variables can be set using (in order of precedence):</p>
<div class="line-block">
<div class="line">- command line options</div>
<div class="line">- environment variables</div>
<div class="line">- entries in <cite>supa.env</cite></div>
</div>
<p>For more information see <cite>supa.env</cite>.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>supa<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span><span class="w"> </span>COMMAND<span class="w"> </span><span class="o">[</span>ARGS<span class="o">]</span>...
</pre></div>
</div>
<section id="supa-connection">
<h4>connection<a class="headerlink" href="#supa-connection" title="Permalink to this heading"></a></h4>
<p>Connection subcommands.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>supa<span class="w"> </span>connection<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span><span class="w"> </span>COMMAND<span class="w"> </span><span class="o">[</span>ARGS<span class="o">]</span>...
</pre></div>
</div>
<section id="supa-connection-list">
<h5>list<a class="headerlink" href="#supa-connection-list" title="Permalink to this heading"></a></h5>
<p>List connections.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>supa<span class="w"> </span>connection<span class="w"> </span>list<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
</pre></div>
</div>
<p class="rubric">Options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-connection-list-only">
<span class="sig-name descname"><span class="pre">--only</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;only&gt;</span></span><a class="headerlink" href="#cmdoption-supa-connection-list-only" title="Permalink to this definition"></a></dt>
<dd><p>Limit list of connections [default: list all]</p>
<dl class="field-list simple">
<dt class="field-odd">Options<span class="colon">:</span></dt>
<dd class="field-odd"><p>current | past</p>
</dd>
</dl>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-connection-list-order-by">
<span class="sig-name descname"><span class="pre">--order-by</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;order_by&gt;</span></span><a class="headerlink" href="#cmdoption-supa-connection-list-order-by" title="Permalink to this definition"></a></dt>
<dd><p>Order connections</p>
<dl class="field-list simple">
<dt class="field-odd">Options<span class="colon">:</span></dt>
<dd class="field-odd"><p>start_time | end_time</p>
</dd>
</dl>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-connection-list-log-level">
<span class="sig-name descname"><span class="pre">--log-level</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;log_level&gt;</span></span><a class="headerlink" href="#cmdoption-supa-connection-list-log-level" title="Permalink to this definition"></a></dt>
<dd><p>Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-connection-list-database-file">
<span class="sig-name descname"><span class="pre">--database-file</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;database_file&gt;</span></span><a class="headerlink" href="#cmdoption-supa-connection-list-database-file" title="Permalink to this definition"></a></dt>
<dd><p>Location of the SQLlite database file</p>
</dd></dl>

</section>
</section>
<section id="supa-reservation">
<h4>reservation<a class="headerlink" href="#supa-reservation" title="Permalink to this heading"></a></h4>
<p>Reservations subcommands.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>supa<span class="w"> </span>reservation<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span><span class="w"> </span>COMMAND<span class="w"> </span><span class="o">[</span>ARGS<span class="o">]</span>...
</pre></div>
</div>
<section id="supa-reservation-list">
<h5>list<a class="headerlink" href="#supa-reservation-list" title="Permalink to this heading"></a></h5>
<p>List reservations.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>supa<span class="w"> </span>reservation<span class="w"> </span>list<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
</pre></div>
</div>
<p class="rubric">Options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-reservation-list-only">
<span class="sig-name descname"><span class="pre">--only</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;only&gt;</span></span><a class="headerlink" href="#cmdoption-supa-reservation-list-only" title="Permalink to this definition"></a></dt>
<dd><p>Limit list of reservations [default: list all]</p>
<dl class="field-list simple">
<dt class="field-odd">Options<span class="colon">:</span></dt>
<dd class="field-odd"><p>current | past</p>
</dd>
</dl>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-reservation-list-order-by">
<span class="sig-name descname"><span class="pre">--order-by</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;order_by&gt;</span></span><a class="headerlink" href="#cmdoption-supa-reservation-list-order-by" title="Permalink to this definition"></a></dt>
<dd><p>Order reservations</p>
<dl class="field-list simple">
<dt class="field-odd">Options<span class="colon">:</span></dt>
<dd class="field-odd"><p>start_time | end_time</p>
</dd>
</dl>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-reservation-list-log-level">
<span class="sig-name descname"><span class="pre">--log-level</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;log_level&gt;</span></span><a class="headerlink" href="#cmdoption-supa-reservation-list-log-level" title="Permalink to this definition"></a></dt>
<dd><p>Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-reservation-list-database-file">
<span class="sig-name descname"><span class="pre">--database-file</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;database_file&gt;</span></span><a class="headerlink" href="#cmdoption-supa-reservation-list-database-file" title="Permalink to this definition"></a></dt>
<dd><p>Location of the SQLlite database file</p>
</dd></dl>

</section>
</section>
<section id="supa-serve">
<h4>serve<a class="headerlink" href="#supa-serve" title="Permalink to this heading"></a></h4>
<p>Start the gRPC server and listen for incoming requests.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>supa<span class="w"> </span>serve<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
</pre></div>
</div>
<p class="rubric">Options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-serve-grpc-server-max-workers">
<span class="sig-name descname"><span class="pre">--grpc-server-max-workers</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;grpc_server_max_workers&gt;</span></span><a class="headerlink" href="#cmdoption-supa-serve-grpc-server-max-workers" title="Permalink to this definition"></a></dt>
<dd><p>Maximum number of workers to serve gRPC requests.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-serve-grpc-server-insecure-host">
<span class="sig-name descname"><span class="pre">--grpc-server-insecure-host</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;grpc_server_insecure_host&gt;</span></span><a class="headerlink" href="#cmdoption-supa-serve-grpc-server-insecure-host" title="Permalink to this definition"></a></dt>
<dd><p>GRPC server host to listen on.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-serve-grpc-server-insecure-port">
<span class="sig-name descname"><span class="pre">--grpc-server-insecure-port</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;grpc_server_insecure_port&gt;</span></span><a class="headerlink" href="#cmdoption-supa-serve-grpc-server-insecure-port" title="Permalink to this definition"></a></dt>
<dd><p>GRPC server port to listen on.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-serve-grpc-client-insecure-host">
<span class="sig-name descname"><span class="pre">--grpc-client-insecure-host</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;grpc_client_insecure_host&gt;</span></span><a class="headerlink" href="#cmdoption-supa-serve-grpc-client-insecure-host" title="Permalink to this definition"></a></dt>
<dd><p>Host that PolyNSI listens on.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-serve-grpc-client-insecure-port">
<span class="sig-name descname"><span class="pre">--grpc-client-insecure-port</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;grpc_client_insecure_port&gt;</span></span><a class="headerlink" href="#cmdoption-supa-serve-grpc-client-insecure-port" title="Permalink to this definition"></a></dt>
<dd><p>Port that PolyNSI listens on.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-serve-document-server-host">
<span class="sig-name descname"><span class="pre">--document-server-host</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;document_server_host&gt;</span></span><a class="headerlink" href="#cmdoption-supa-serve-document-server-host" title="Permalink to this definition"></a></dt>
<dd><p>Host that the document server listens on.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-serve-document-server-port">
<span class="sig-name descname"><span class="pre">--document-server-port</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;document_server_port&gt;</span></span><a class="headerlink" href="#cmdoption-supa-serve-document-server-port" title="Permalink to this definition"></a></dt>
<dd><p>Port that the document server listens on.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-serve-scheduler-max-workers">
<span class="sig-name descname"><span class="pre">--scheduler-max-workers</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;scheduler_max_workers&gt;</span></span><a class="headerlink" href="#cmdoption-supa-serve-scheduler-max-workers" title="Permalink to this definition"></a></dt>
<dd><p>Maximum number of workers to execute scheduler jobs.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-serve-domain">
<span class="sig-name descname"><span class="pre">--domain</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;domain&gt;</span></span><a class="headerlink" href="#cmdoption-supa-serve-domain" title="Permalink to this definition"></a></dt>
<dd><p>Name of the domain SuPA is responsible for.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-serve-topology">
<span class="sig-name descname"><span class="pre">--topology</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;topology&gt;</span></span><a class="headerlink" href="#cmdoption-supa-serve-topology" title="Permalink to this definition"></a></dt>
<dd><p>Name of the topology SuPA is responsible for.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-serve-manual-topology">
<span class="sig-name descname"><span class="pre">--manual-topology</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-supa-serve-manual-topology" title="Permalink to this definition"></a></dt>
<dd><p>Use SuPA CLI to manually administrate topology.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-serve-reserve-timeout">
<span class="sig-name descname"><span class="pre">--reserve-timeout</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;reserve_timeout&gt;</span></span><a class="headerlink" href="#cmdoption-supa-serve-reserve-timeout" title="Permalink to this definition"></a></dt>
<dd><p>Reserve timeout in seconds.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-serve-backend">
<span class="sig-name descname"><span class="pre">--backend</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;backend&gt;</span></span><a class="headerlink" href="#cmdoption-supa-serve-backend" title="Permalink to this definition"></a></dt>
<dd><p>Name of backend module.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-serve-nsa-host">
<span class="sig-name descname"><span class="pre">--nsa-host</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;nsa_host&gt;</span></span><a class="headerlink" href="#cmdoption-supa-serve-nsa-host" title="Permalink to this definition"></a></dt>
<dd><p>Name of the host where SuPA is exposed on.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-serve-nsa-port">
<span class="sig-name descname"><span class="pre">--nsa-port</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;nsa_port&gt;</span></span><a class="headerlink" href="#cmdoption-supa-serve-nsa-port" title="Permalink to this definition"></a></dt>
<dd><p>Port where SuPA is exposed on.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-serve-nsa-name">
<span class="sig-name descname"><span class="pre">--nsa-name</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;nsa_name&gt;</span></span><a class="headerlink" href="#cmdoption-supa-serve-nsa-name" title="Permalink to this definition"></a></dt>
<dd><p>Descriptive name for this uPA.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-serve-nsa-scheme">
<span class="sig-name descname"><span class="pre">--nsa-scheme</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;nsa_scheme&gt;</span></span><a class="headerlink" href="#cmdoption-supa-serve-nsa-scheme" title="Permalink to this definition"></a></dt>
<dd><p>URL scheme of the exposed service.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-serve-nsa-provider-path">
<span class="sig-name descname"><span class="pre">--nsa-provider-path</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;nsa_provider_path&gt;</span></span><a class="headerlink" href="#cmdoption-supa-serve-nsa-provider-path" title="Permalink to this definition"></a></dt>
<dd><p>Path of the NSI provider endpoint.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-serve-nsa-topology-path">
<span class="sig-name descname"><span class="pre">--nsa-topology-path</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;nsa_topology_path&gt;</span></span><a class="headerlink" href="#cmdoption-supa-serve-nsa-topology-path" title="Permalink to this definition"></a></dt>
<dd><p>Path of the NSI topology endpoint.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-serve-nsa-discovery-path">
<span class="sig-name descname"><span class="pre">--nsa-discovery-path</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;nsa_discovery_path&gt;</span></span><a class="headerlink" href="#cmdoption-supa-serve-nsa-discovery-path" title="Permalink to this definition"></a></dt>
<dd><p>Path of the NSI discovery endpoint.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-serve-nsa-owner-timestamp">
<span class="sig-name descname"><span class="pre">--nsa-owner-timestamp</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;nsa_owner_timestamp&gt;</span></span><a class="headerlink" href="#cmdoption-supa-serve-nsa-owner-timestamp" title="Permalink to this definition"></a></dt>
<dd><p>Timestamp when the owner information was last change.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-serve-nsa-owner-firstname">
<span class="sig-name descname"><span class="pre">--nsa-owner-firstname</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;nsa_owner_firstname&gt;</span></span><a class="headerlink" href="#cmdoption-supa-serve-nsa-owner-firstname" title="Permalink to this definition"></a></dt>
<dd><p>Firstname of the owner of this uPA.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-serve-nsa-owner-lastname">
<span class="sig-name descname"><span class="pre">--nsa-owner-lastname</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;nsa_owner_lastname&gt;</span></span><a class="headerlink" href="#cmdoption-supa-serve-nsa-owner-lastname" title="Permalink to this definition"></a></dt>
<dd><p>Lastname of the owner of this uPA.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-serve-nsa-latitude">
<span class="sig-name descname"><span class="pre">--nsa-latitude</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;nsa_latitude&gt;</span></span><a class="headerlink" href="#cmdoption-supa-serve-nsa-latitude" title="Permalink to this definition"></a></dt>
<dd><p>Latitude of this uPA.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-serve-nsa-longitude">
<span class="sig-name descname"><span class="pre">--nsa-longitude</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;nsa_longitude&gt;</span></span><a class="headerlink" href="#cmdoption-supa-serve-nsa-longitude" title="Permalink to this definition"></a></dt>
<dd><p>Longitude of this uPA.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-serve-topology-name">
<span class="sig-name descname"><span class="pre">--topology-name</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;topology_name&gt;</span></span><a class="headerlink" href="#cmdoption-supa-serve-topology-name" title="Permalink to this definition"></a></dt>
<dd><p>Descriptive name for the exposed topology.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-serve-topology-freshness">
<span class="sig-name descname"><span class="pre">--topology-freshness</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;topology_freshness&gt;</span></span><a class="headerlink" href="#cmdoption-supa-serve-topology-freshness" title="Permalink to this definition"></a></dt>
<dd><p>Number of seconds before fetching topology from backend again.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-serve-log-level">
<span class="sig-name descname"><span class="pre">--log-level</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;log_level&gt;</span></span><a class="headerlink" href="#cmdoption-supa-serve-log-level" title="Permalink to this definition"></a></dt>
<dd><p>Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-serve-database-file">
<span class="sig-name descname"><span class="pre">--database-file</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;database_file&gt;</span></span><a class="headerlink" href="#cmdoption-supa-serve-database-file" title="Permalink to this definition"></a></dt>
<dd><p>Location of the SQLlite database file</p>
</dd></dl>

</section>
<section id="supa-stp">
<h4>stp<a class="headerlink" href="#supa-stp" title="Permalink to this heading"></a></h4>
<p>STP subcommands.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>supa<span class="w"> </span>stp<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span><span class="w"> </span>COMMAND<span class="w"> </span><span class="o">[</span>ARGS<span class="o">]</span>...
</pre></div>
</div>
<section id="supa-stp-add">
<h5>add<a class="headerlink" href="#supa-stp-add" title="Permalink to this heading"></a></h5>
<p>Add STP to topology.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>supa<span class="w"> </span>stp<span class="w"> </span>add<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
</pre></div>
</div>
<p class="rubric">Options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-stp-add-stp-id">
<span class="sig-name descname"><span class="pre">--stp-id</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;stp_id&gt;</span></span><a class="headerlink" href="#cmdoption-supa-stp-add-stp-id" title="Permalink to this definition"></a></dt>
<dd><p><strong>Required</strong> Uniq ID of the STP.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-stp-add-port-id">
<span class="sig-name descname"><span class="pre">--port-id</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;port_id&gt;</span></span><a class="headerlink" href="#cmdoption-supa-stp-add-port-id" title="Permalink to this definition"></a></dt>
<dd><p><strong>Required</strong> ID of the corresponding port.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-stp-add-vlans">
<span class="sig-name descname"><span class="pre">--vlans</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;vlans&gt;</span></span><a class="headerlink" href="#cmdoption-supa-stp-add-vlans" title="Permalink to this definition"></a></dt>
<dd><p><strong>Required</strong> VLANs part of this STP.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-stp-add-description">
<span class="sig-name descname"><span class="pre">--description</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;description&gt;</span></span><a class="headerlink" href="#cmdoption-supa-stp-add-description" title="Permalink to this definition"></a></dt>
<dd><p>STP description.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-stp-add-is-alias-in">
<span class="sig-name descname"><span class="pre">--is-alias-in</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;is_alias_in&gt;</span></span><a class="headerlink" href="#cmdoption-supa-stp-add-is-alias-in" title="Permalink to this definition"></a></dt>
<dd><p>Inbound STP ID from connected topology.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-stp-add-is-alias-out">
<span class="sig-name descname"><span class="pre">--is-alias-out</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;is_alias_out&gt;</span></span><a class="headerlink" href="#cmdoption-supa-stp-add-is-alias-out" title="Permalink to this definition"></a></dt>
<dd><p>Outbound STP ID to connected topology.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-stp-add-bandwidth">
<span class="sig-name descname"><span class="pre">--bandwidth</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;bandwidth&gt;</span></span><a class="headerlink" href="#cmdoption-supa-stp-add-bandwidth" title="Permalink to this definition"></a></dt>
<dd><p><strong>Required</strong> Available bandwidth for this STP in Mbps.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-stp-add-enabled">
<span id="cmdoption-supa-stp-add-disabled"></span><span class="sig-name descname"><span class="pre">--enabled</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--disabled</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-supa-stp-add-enabled" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-stp-add-log-level">
<span class="sig-name descname"><span class="pre">--log-level</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;log_level&gt;</span></span><a class="headerlink" href="#cmdoption-supa-stp-add-log-level" title="Permalink to this definition"></a></dt>
<dd><p>Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-stp-add-database-file">
<span class="sig-name descname"><span class="pre">--database-file</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;database_file&gt;</span></span><a class="headerlink" href="#cmdoption-supa-stp-add-database-file" title="Permalink to this definition"></a></dt>
<dd><p>Location of the SQLlite database file</p>
</dd></dl>

</section>
<section id="supa-stp-delete">
<h5>delete<a class="headerlink" href="#supa-stp-delete" title="Permalink to this heading"></a></h5>
<p>Delete STP from topology (if not in use or previously used).</p>
<p>A STP can only be deleted if it was never used in a reservation.
Once used  a STP cannot be deleted again.
A STP can be disabled though!
This will take it out of the pool of STPs
reservations (and hence connections) are made against.
See the <cite>disable</cite> command.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>supa<span class="w"> </span>stp<span class="w"> </span>delete<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
</pre></div>
</div>
<p class="rubric">Options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-stp-delete-stp-id">
<span class="sig-name descname"><span class="pre">--stp-id</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;stp_id&gt;</span></span><a class="headerlink" href="#cmdoption-supa-stp-delete-stp-id" title="Permalink to this definition"></a></dt>
<dd><p><strong>Required</strong> STP id to be deleted from topology.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-stp-delete-log-level">
<span class="sig-name descname"><span class="pre">--log-level</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;log_level&gt;</span></span><a class="headerlink" href="#cmdoption-supa-stp-delete-log-level" title="Permalink to this definition"></a></dt>
<dd><p>Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-stp-delete-database-file">
<span class="sig-name descname"><span class="pre">--database-file</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;database_file&gt;</span></span><a class="headerlink" href="#cmdoption-supa-stp-delete-database-file" title="Permalink to this definition"></a></dt>
<dd><p>Location of the SQLlite database file</p>
</dd></dl>

</section>
<section id="supa-stp-disable">
<h5>disable<a class="headerlink" href="#supa-stp-disable" title="Permalink to this heading"></a></h5>
<p>Do not expose STP in topology.</p>
<p>Disabling a STP makes it unavailable for reservation requests.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>supa<span class="w"> </span>stp<span class="w"> </span>disable<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
</pre></div>
</div>
<p class="rubric">Options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-stp-disable-stp-id">
<span class="sig-name descname"><span class="pre">--stp-id</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;stp_id&gt;</span></span><a class="headerlink" href="#cmdoption-supa-stp-disable-stp-id" title="Permalink to this definition"></a></dt>
<dd><p><strong>Required</strong> STP id to be disabled.</p>
</dd></dl>

</section>
<section id="supa-stp-enable">
<h5>enable<a class="headerlink" href="#supa-stp-enable" title="Permalink to this heading"></a></h5>
<p>Expose STP in topology.</p>
<p>Enabling a STP makes it available for reservation requests.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>supa<span class="w"> </span>stp<span class="w"> </span><span class="nb">enable</span><span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
</pre></div>
</div>
<p class="rubric">Options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-stp-enable-stp-id">
<span class="sig-name descname"><span class="pre">--stp-id</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;stp_id&gt;</span></span><a class="headerlink" href="#cmdoption-supa-stp-enable-stp-id" title="Permalink to this definition"></a></dt>
<dd><p><strong>Required</strong> STP id to be enabled.</p>
</dd></dl>

</section>
<section id="supa-stp-list">
<h5>list<a class="headerlink" href="#supa-stp-list" title="Permalink to this heading"></a></h5>
<p>List STPs known to this uPA.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>supa<span class="w"> </span>stp<span class="w"> </span>list<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
</pre></div>
</div>
<p class="rubric">Options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-stp-list-only">
<span class="sig-name descname"><span class="pre">--only</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;only&gt;</span></span><a class="headerlink" href="#cmdoption-supa-stp-list-only" title="Permalink to this definition"></a></dt>
<dd><p>Limit list of ports [default: list all]</p>
<dl class="field-list simple">
<dt class="field-odd">Options<span class="colon">:</span></dt>
<dd class="field-odd"><p>enabled | disabled</p>
</dd>
</dl>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-stp-list-log-level">
<span class="sig-name descname"><span class="pre">--log-level</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;log_level&gt;</span></span><a class="headerlink" href="#cmdoption-supa-stp-list-log-level" title="Permalink to this definition"></a></dt>
<dd><p>Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-supa-stp-list-database-file">
<span class="sig-name descname"><span class="pre">--database-file</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;database_file&gt;</span></span><a class="headerlink" href="#cmdoption-supa-stp-list-database-file" title="Permalink to this definition"></a></dt>
<dd><p>Location of the SQLlite database file</p>
</dd></dl>

</section>
</section>
</section>
</section>
<section id="module-supa.db.session">
<span id="supa-db-session"></span><h2>supa.db.session<a class="headerlink" href="#module-supa.db.session" title="Permalink to this heading"></a></h2>
<p>Setup the DB, configure SQLAlchemy and define the schema.</p>
<p>Due to SuPAs modest DB requirements we have chosen to use <a class="reference external" href="https://sqlite.org/index.html">SQLite</a>.
It is very easy to use,
does not require a full client/server setup,
and it is wickedly fast.
There are some limitations with regards to concurrency,
but those will not affect SuPA with its low DB WRITE needs;
especially when configured with the <a class="reference internal" href="#supa.JournalMode.WAL" title="supa.JournalMode.WAL"><code class="xref py py-attr docutils literal notranslate"><span class="pre">WAL</span></code></a> journal mode.</p>
<section id="usage">
<h3>Usage<a class="headerlink" href="#usage" title="Permalink to this heading"></a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Due to how SuPA initializes itself,
whatever needs to be imported from this module,
needs to be imported locally!</p>
</div>
<p>When anything from this module is imported at the top of other modules
some things within this module might not yet have been correctly initialized.
Most notable the location of the SQLite database file.
Once the initialization has been completed,
these already imported objects will still refer to the old uninitialized ones.
Dont worry too much about it;
you will get an informative error.
But just to be on the safe side,
always import anything from this module locally!</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="supa.db.session.set_sqlite_pragma">
<span class="sig-prename descclassname"><span class="pre">supa.db.session.</span></span><span class="sig-name descname"><span class="pre">set_sqlite_pragma</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dbapi_connection</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Connection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connection_record</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_ConnectionRecord</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#supa.db.session.set_sqlite_pragma" title="Permalink to this definition"></a></dt>
<dd><p>Configure certain SQLite settings.</p>
<p>These settings,
issued as SQLite <a class="reference external" href="https://sqlite.org/pragma.html">pragmas</a>,
need to be configured on each connection.
Hence the usage of SQLAlchemys engines connect event.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.db.session.UnconfiguredSession">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.db.session.</span></span><span class="sig-name descname"><span class="pre">UnconfiguredSession</span></span><a class="headerlink" href="#supa.db.session.UnconfiguredSession" title="Permalink to this definition"></a></dt>
<dd><p>Fail safe fake session class to guard against premature SQLAlchemy session usage.</p>
<p>SQLAlchemys engine,
and hence session,
can only be initialized after all settings have been resolved.
This means that we cannot initialize it at the module level.
After all,
at the time this module is being executed the default settings
and those of the env file have been processed,
those specified on the commend line might not have been processed.
At the same time we want to keep easy access to the <a class="reference internal" href="#supa.db.session.Session" title="supa.db.session.Session"><code class="xref py py-data docutils literal notranslate"><span class="pre">Session</span></code></a> as a module level attribute.
So we configure the <a class="reference internal" href="#supa.db.session.Session" title="supa.db.session.Session"><code class="xref py py-data docutils literal notranslate"><span class="pre">Session</span></code></a> with this safe guard class
only to overwrite it with the real thing after command line options have been processed.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="supa.db.session.Session">
<span class="sig-prename descclassname"><span class="pre">supa.db.session.</span></span><span class="sig-name descname"><span class="pre">Session</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;supa.db.session.UnconfiguredSession</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#supa.db.session.Session" title="Permalink to this definition"></a></dt>
<dd><p>SQLAlchemy Session for accessing the database.</p>
<p><a class="reference internal" href="#supa.db.session.Session" title="supa.db.session.Session"><code class="xref py py-data docutils literal notranslate"><span class="pre">Session</span></code></a> can only be used after a call to <code class="xref py py-func docutils literal notranslate"><span class="pre">main.init_app()</span></code>.
That,
in turn,
can only be called after all application configuration has been resolved,
eg. after command line processing.
<code class="xref py py-func docutils literal notranslate"><span class="pre">main.init_app()</span></code> will replace <a class="reference internal" href="#supa.db.session.Session" title="supa.db.session.Session"><code class="xref py py-data docutils literal notranslate"><span class="pre">Session</span></code></a> with a proper SQLAlchemy
(scoped) <code class="docutils literal notranslate"><span class="pre">Session</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.db.session.db_session">
<span class="sig-prename descclassname"><span class="pre">supa.db.session.</span></span><span class="sig-name descname"><span class="pre">db_session</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">scoped_session</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#supa.db.session.db_session" title="Permalink to this definition"></a></dt>
<dd><p>Context manager for using an SQLAlchemy session.</p>
<p>It will automatically commit the session upon leaving the context manager.
It will rollback the session if an exception occurred while in the context manager.
re-raising the exception afterwards.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">my_model</span> <span class="o">=</span> <span class="n">MyModel</span><span class="p">(</span><span class="n">fu</span><span class="o">=</span><span class="s2">&quot;fu&quot;</span><span class="p">,</span> <span class="n">bar</span><span class="o">=</span><span class="s2">&quot;bar&quot;</span><span class="p">)</span>
<span class="k">with</span> <span class="n">db_session</span><span class="p">()</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
    <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">my_model</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>Exception</strong>  Actually whatever exception that was raised while the context manager was active.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-supa.db.model">
<span id="supa-db-model"></span><h2>supa.db.model<a class="headerlink" href="#module-supa.db.model" title="Permalink to this heading"></a></h2>
<p>Define the database models.</p>
<section id="surrogate-keys-versus-natural-keys">
<h3>Surrogate keys versus natural keys<a class="headerlink" href="#surrogate-keys-versus-natural-keys" title="Permalink to this heading"></a></h3>
<p>Looking at the model definitions
youll find that we have used <a class="reference external" href="https://en.wikipedia.org/wiki/Natural_key">natural keys</a> wherever possible.
Though no too common these days,
with the prevalent use of ORMs
that automatically generate a <a class="reference external" href="https://en.wikipedia.org/wiki/Surrogate_key">surrogate key</a> per model,
SQLAlchemy is flexible enough to model things naturally from a relational database point of view.
This sometimes results in <a class="reference external" href="https://en.wikipedia.org/wiki/Compound_key">composite</a> primary keys.</p>
<p>Foreign keys to these composite primary keys cannot be defined on a specific Column definition
or even a set of Column definitions.
Something that does work for composite primary key definitions.
Instead,
these foreign keys need to be defined using a
<a class="reference external" href="https://docs.sqlalchemy.org/en/13/core/constraints.html?sqlalchemy.schema.ForeignKeyConstraint#sqlalchemy.schema.ForeignKeyConstraint">ForeignKeyConstraint</a>
on the <code class="docutils literal notranslate"><span class="pre">__table_args__</span></code> attribute of the DB model.</p>
</section>
<section id="connection-ids">
<h3>Connection IDs<a class="headerlink" href="#connection-ids" title="Permalink to this heading"></a></h3>
<p>Looking at example messages in the different specifications:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.ogf.org/documents/GFD.233.pdf">GFD-R-233 Applying Policy in the NSI Environment (pdf)</a></p></li>
<li><p><a class="reference external" href="https://www.ogf.org/documents/GFD.237.pdf">GWD-R-P.237 NSI Connection Service v2.1 (pdf)</a></p></li>
</ul>
<p>we see that connection IDs always seem to be formatted as <code class="docutils literal notranslate"><span class="pre">UUID</span></code>s.
However, according to its definition in GWD-R-P.237,
it can be any string as long as it is unique within the context of a PA.
That is the reason that we have modelled connection IDs from other NSAs
(<code class="docutils literal notranslate"><span class="pre">ag_connection_id</span></code>, <code class="docutils literal notranslate"><span class="pre">upa_connection_id</span></code>)
as <code class="docutils literal notranslate"><span class="pre">TEXT</span></code>.
Within SuPA we have decided to use <code class="docutils literal notranslate"><span class="pre">UUID</span></code>s for our <code class="docutils literal notranslate"><span class="pre">connection_id</span></code>s.</p>
</section>
<section id="sqlalchemy-model-dependency-diagram">
<h3>SQLAlchemy Model Dependency Diagram<a class="headerlink" href="#sqlalchemy-model-dependency-diagram" title="Permalink to this heading"></a></h3>
<p>A visual representation of how everything is wired together
should help navigating the Python code a lot better.</p>
<img alt="_images/sqlalchemy_model_dependency_diagram.png" src="_images/sqlalchemy_model_dependency_diagram.png" />
</section>
<dl class="py class">
<dt class="sig sig-object py" id="supa.db.model.Uuid">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.db.model.</span></span><span class="sig-name descname"><span class="pre">Uuid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.db.model.Uuid" title="Permalink to this definition"></a></dt>
<dd><p>Implement SQLAlchemy Uuid column type for SQLite databases.</p>
<p>This stores Python <code class="xref py py-class docutils literal notranslate"><span class="pre">uuid.UUID</span></code> types as strings (<code class="docutils literal notranslate"><span class="pre">CHAR(36)</span></code>) in the database.
We have chosen to store the <code class="xref py py-meth docutils literal notranslate"><span class="pre">uuid.UUID.__str__()</span></code> representation directly,
eg. with <code class="docutils literal notranslate"><span class="pre">&quot;-&quot;</span></code> between the UUID fields,
for improved readability.</p>
<dl class="py method">
<dt class="sig sig-object py" id="supa.db.model.Uuid.process_bind_param">
<span class="sig-name descname"><span class="pre">process_bind_param</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UUID</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dialect</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dialect</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#supa.db.model.Uuid.process_bind_param" title="Permalink to this definition"></a></dt>
<dd><p>Receive a bound parameter value to be converted.</p>
<p>Subclasses override this method to return the
value that should be passed along to the underlying
<code class="xref py py-class docutils literal notranslate"><span class="pre">TypeEngine</span></code> object, and from there to the
DBAPI <code class="docutils literal notranslate"><span class="pre">execute()</span></code> method.</p>
<p>The operation could be anything desired to perform custom
behavior, such as transforming or serializing data.
This could also be used as a hook for validating logic.</p>
<p>This operation should be designed with the reverse operation
in mind, which would be the process_result_value method of
this class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong>  Data to operate upon, of any type expected by
this method in the subclass.  Can be <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>dialect</strong>  the <code class="xref py py-class docutils literal notranslate"><span class="pre">Dialect</span></code> in use.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.db.model.Uuid.process_result_value">
<span class="sig-name descname"><span class="pre">process_result_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dialect</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dialect</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">UUID</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#supa.db.model.Uuid.process_result_value" title="Permalink to this definition"></a></dt>
<dd><p>Receive a result-row column value to be converted.</p>
<p>Subclasses should implement this method to operate on data
fetched from the database.</p>
<p>Subclasses override this method to return the
value that should be passed back to the application,
given a value that is already processed by
the underlying <code class="xref py py-class docutils literal notranslate"><span class="pre">TypeEngine</span></code> object, originally
from the DBAPI cursor method <code class="docutils literal notranslate"><span class="pre">fetchone()</span></code> or similar.</p>
<p>The operation could be anything desired to perform custom
behavior, such as transforming or serializing data.
This could also be used as a hook for validating logic.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong>  Data to operate upon, of any type expected by
this method in the subclass.  Can be <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>dialect</strong>  the <code class="xref py py-class docutils literal notranslate"><span class="pre">Dialect</span></code> in use.</p></li>
</ul>
</dd>
</dl>
<p>This operation should be designed to be reversible by
the process_bind_param method of this class.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.db.model.ReprBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.db.model.</span></span><span class="sig-name descname"><span class="pre">ReprBase</span></span><a class="headerlink" href="#supa.db.model.ReprBase" title="Permalink to this definition"></a></dt>
<dd><p>Custom SQLAlchemy model to provide meaningful <code class="xref py py-meth docutils literal notranslate"><span class="pre">__str__()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">__repr__()</span></code> methods.</p>
<p>Writing appropriate <code class="docutils literal notranslate"><span class="pre">__repr__</span></code> and <code class="docutils literal notranslate"><span class="pre">__str__</span></code> methods
for all your SQLAlchemy ORM models
gets tedious very quickly.
By using SQLAlchemys
<a class="reference external" href="https://docs.sqlalchemy.org/en/latest/core/inspection.html?highlight=runtimeinspectionapi">Runtime Inspection API</a>
this base class can easily generate these methods for you.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This class cannot be used as a regular Python base class
due to assumptions made by <code class="docutils literal notranslate"><span class="pre">declarative_base</span></code>. See <strong>Usage</strong> below instead.</p>
</div>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Base</span> <span class="o">=</span> <span class="n">declarative_base</span><span class="p">(</span><span class="bp">cls</span><span class="o">=</span><span class="n">ReprBase</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="supa.db.model.UtcTimestampException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.db.model.</span></span><span class="sig-name descname"><span class="pre">UtcTimestampException</span></span><a class="headerlink" href="#supa.db.model.UtcTimestampException" title="Permalink to this definition"></a></dt>
<dd><p>Exception class for custom UtcTimestamp SQLAlchemy column type.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.db.model.UtcTimestamp">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.db.model.</span></span><span class="sig-name descname"><span class="pre">UtcTimestamp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.db.model.UtcTimestamp" title="Permalink to this definition"></a></dt>
<dd><p>Custom SQLAlchemy column type for storing timestamps in UTC in SQLite databases.</p>
<p>This column type always returns timestamps with the UTC timezone.
It also guards against accidentally trying to store Python naive timestamps
(those without a time zone).</p>
<p>In the SQLite database the timestamps are stored as strings of format: <code class="docutils literal notranslate"><span class="pre">yyyy-mm-dd</span> <span class="pre">hh:mm:ss</span></code>.
<strong>UTC is always implied.</strong></p>
<dl class="py method">
<dt class="sig sig-object py" id="supa.db.model.UtcTimestamp.process_bind_param">
<span class="sig-name descname"><span class="pre">process_bind_param</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dialect</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dialect</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#supa.db.model.UtcTimestamp.process_bind_param" title="Permalink to this definition"></a></dt>
<dd><p>Receive a bound parameter value to be converted.</p>
<p>Subclasses override this method to return the
value that should be passed along to the underlying
<code class="xref py py-class docutils literal notranslate"><span class="pre">TypeEngine</span></code> object, and from there to the
DBAPI <code class="docutils literal notranslate"><span class="pre">execute()</span></code> method.</p>
<p>The operation could be anything desired to perform custom
behavior, such as transforming or serializing data.
This could also be used as a hook for validating logic.</p>
<p>This operation should be designed with the reverse operation
in mind, which would be the process_result_value method of
this class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong>  Data to operate upon, of any type expected by
this method in the subclass.  Can be <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>dialect</strong>  the <code class="xref py py-class docutils literal notranslate"><span class="pre">Dialect</span></code> in use.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.db.model.UtcTimestamp.process_result_value">
<span class="sig-name descname"><span class="pre">process_result_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dialect</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dialect</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#supa.db.model.UtcTimestamp.process_result_value" title="Permalink to this definition"></a></dt>
<dd><p>Receive a result-row column value to be converted.</p>
<p>Subclasses should implement this method to operate on data
fetched from the database.</p>
<p>Subclasses override this method to return the
value that should be passed back to the application,
given a value that is already processed by
the underlying <code class="xref py py-class docutils literal notranslate"><span class="pre">TypeEngine</span></code> object, originally
from the DBAPI cursor method <code class="docutils literal notranslate"><span class="pre">fetchone()</span></code> or similar.</p>
<p>The operation could be anything desired to perform custom
behavior, such as transforming or serializing data.
This could also be used as a hook for validating logic.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong>  Data to operate upon, of any type expected by
this method in the subclass.  Can be <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>dialect</strong>  the <code class="xref py py-class docutils literal notranslate"><span class="pre">Dialect</span></code> in use.</p></li>
</ul>
</dd>
</dl>
<p>This operation should be designed to be reversible by
the process_bind_param method of this class.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.db.model.Reservation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.db.model.</span></span><span class="sig-name descname"><span class="pre">Reservation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.db.model.Reservation" title="Permalink to this definition"></a></dt>
<dd><p>DB mapping for registering NSI reservations.</p>
<dl class="py method">
<dt class="sig sig-object py" id="supa.db.model.Reservation.src_stp">
<span class="sig-name descname"><span class="pre">src_stp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">selected</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#supa.util.nsi.Stp" title="supa.util.nsi.Stp"><span class="pre">Stp</span></a></span></span><a class="headerlink" href="#supa.db.model.Reservation.src_stp" title="Permalink to this definition"></a></dt>
<dd><p>Return <code class="xref py py-class docutils literal notranslate"><span class="pre">STP</span></code> instance for src data.</p>
<p>Depending on where we are in the reservation process,
we need to deal with a requested VLAN(s)(ranges),
or a selected VLAN.
The <code class="docutils literal notranslate"><span class="pre">selected</span></code> parameter determines which of the two
will be used for the <code class="docutils literal notranslate"><span class="pre">labels</span></code> argument to the <a class="reference internal" href="#supa.util.nsi.Stp" title="supa.util.nsi.Stp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stp</span></code></a> object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>selected</strong>  if True, use selected VLAN` instead of requested VLAN(s)(ranges)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#supa.util.nsi.Stp" title="supa.util.nsi.Stp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stp</span></code></a> object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.db.model.Reservation.dst_stp">
<span class="sig-name descname"><span class="pre">dst_stp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">selected</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#supa.util.nsi.Stp" title="supa.util.nsi.Stp"><span class="pre">Stp</span></a></span></span><a class="headerlink" href="#supa.db.model.Reservation.dst_stp" title="Permalink to this definition"></a></dt>
<dd><p>Return <code class="xref py py-class docutils literal notranslate"><span class="pre">STP</span></code> instance for dst data.</p>
<p>Depending on where we are in the reservation process,
we need to deal with a requested VLAN(s)(ranges),
or a selected VLAN.
The <code class="docutils literal notranslate"><span class="pre">selected</span></code> parameter determines which of the two
will be used for the <code class="docutils literal notranslate"><span class="pre">labels</span></code> argument to the <a class="reference internal" href="#supa.util.nsi.Stp" title="supa.util.nsi.Stp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stp</span></code></a> object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>selected</strong>  if True, use selected VLAN` instead of requested VLAN(s)(ranges)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#supa.util.nsi.Stp" title="supa.util.nsi.Stp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stp</span></code></a> object</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.db.model.PathTrace">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.db.model.</span></span><span class="sig-name descname"><span class="pre">PathTrace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.db.model.PathTrace" title="Permalink to this definition"></a></dt>
<dd><p>DB mapping for PathTraces.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.db.model.Path">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.db.model.</span></span><span class="sig-name descname"><span class="pre">Path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.db.model.Path" title="Permalink to this definition"></a></dt>
<dd><p>DB mapping for Paths.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.db.model.Segment">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.db.model.</span></span><span class="sig-name descname"><span class="pre">Segment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.db.model.Segment" title="Permalink to this definition"></a></dt>
<dd><p>DB mapping for Segment.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.db.model.Stp">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.db.model.</span></span><span class="sig-name descname"><span class="pre">Stp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.db.model.Stp" title="Permalink to this definition"></a></dt>
<dd><p>DB Mapping for STP.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.db.model.Parameter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.db.model.</span></span><span class="sig-name descname"><span class="pre">Parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.db.model.Parameter" title="Permalink to this definition"></a></dt>
<dd><p>DB mapping for PointToPointService Parameters.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.db.model.Topology">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.db.model.</span></span><span class="sig-name descname"><span class="pre">Topology</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.db.model.Topology" title="Permalink to this definition"></a></dt>
<dd><p>DB mapping for STPs and ports in the topology from the NRM.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.db.model.Connection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.db.model.</span></span><span class="sig-name descname"><span class="pre">Connection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.db.model.Connection" title="Permalink to this definition"></a></dt>
<dd><p>DB mapping for registering connections to be build/built.</p>
<p>It stores references to the actual STPs used in the connection as listed in :class`Topology`
and the <code class="docutils literal notranslate"><span class="pre">circuit_id</span></code> of the circuit in the NRM.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.db.model.connection_to_dict">
<span class="sig-prename descclassname"><span class="pre">supa.db.model.</span></span><span class="sig-name descname"><span class="pre">connection_to_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#supa.db.model.Connection" title="supa.db.model.Connection"><span class="pre">Connection</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#supa.db.model.connection_to_dict" title="Permalink to this definition"></a></dt>
<dd><p>Create a dict from a Connection.</p>
<p>A convenience function to create a dict that can be used as parameter list to all backend methods.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.db.model.Notification">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.db.model.</span></span><span class="sig-name descname"><span class="pre">Notification</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.db.model.Notification" title="Permalink to this definition"></a></dt>
<dd><p>DB mapping for registering notifications against a connection ID.</p>
<p>Store the notification for a connection ID serialized to string together
with a linearly increasing identifier that can be used for ordering notifications in
the context of the connection ID.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.db.model.Result">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.db.model.</span></span><span class="sig-name descname"><span class="pre">Result</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.db.model.Result" title="Permalink to this definition"></a></dt>
<dd><p>DB mapping for registering results against a connection ID.</p>
<p>Store the async result to a provider request serialized to string together
with a linearly increasing identifier that can be used for ordering results in
the context of the connection ID. Results of requests from a RA to a PA
are stored so they can be retrieved later in case only synchronous communication
is possible between the RA and PA.</p>
</dd></dl>

</section>
<section id="module-supa.job.shared">
<span id="supa-job-shared"></span><h2>supa.job.shared<a class="headerlink" href="#module-supa.job.shared" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="supa.job.shared.Job">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.job.shared.</span></span><span class="sig-name descname"><span class="pre">Job</span></span><a class="headerlink" href="#supa.job.shared.Job" title="Permalink to this definition"></a></dt>
<dd><p>Capture SuPAs asynchronous work.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>With asynchronous we dont mean async IO, as is all the hype these days.
Instead, we refer to all the work that happens outside of the regular gRPC request/response cycle.
Asynchronous work is an explicit aspect of the NSI protocol.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="supa.job.shared.Job.__call__">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#supa.job.shared.Job.__call__" title="Permalink to this definition"></a></dt>
<dd><p>Perform the work represented by this class.</p>
<p>Sub classes must override this method.
This method is called by the scheduler when the job is scheduled to run.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.job.shared.Job.recover">
<em class="property"><span class="pre">abstract</span><span class="w"> </span><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">recover</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#supa.job.shared.Job" title="supa.job.shared.Job"><span class="pre">Job</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#supa.job.shared.Job.recover" title="Permalink to this definition"></a></dt>
<dd><p>Recover work that did not run to completion due to a premature termination of SuPA.</p>
<p>When SuPA needs to be terminated,
there might still be some scheduled jobs that havent yet run.
These jobs might be recovered when SuPAs is started again.
If they can, it is up to this class method to recreated these jobs.</p>
<p>This is an abstract method as we want subclasses to be explict about their recovery process.</p>
<p>See Also: <a class="reference internal" href="#supa.init_app" title="supa.init_app"><code class="xref py py-func docutils literal notranslate"><span class="pre">supa.init_app()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of instantiated jobs to be rescheduled.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.job.shared.Job.trigger">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">trigger</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DateTrigger</span></span></span><a class="headerlink" href="#supa.job.shared.Job.trigger" title="Permalink to this definition"></a></dt>
<dd><p>Trigger for recovered jobs.</p>
<p>Recovered jobs generally know when they should be run.
This function provides the means to tell the recovery process exactly that.</p>
<p>This is an abstract method as we want subclasses to be explicit about their trigger behaviour.</p>
<p>Whatever this <a class="reference internal" href="#supa.job.shared.Job.trigger" title="supa.job.shared.Job.trigger"><code class="xref py py-meth docutils literal notranslate"><span class="pre">trigger()</span></code></a> function returns,
is passed to the schedulers
<a class="reference external" href="https://apscheduler.readthedocs.io/en/latest/modules/schedulers/base.html#apscheduler.schedulers.base.BaseScheduler.add_job">add_job()</a>
method after the job has been passed into it.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timezone</span>
<span class="kn">from</span> <span class="nn">apscheduler.triggers.date</span> <span class="kn">import</span> <span class="n">DateTrigger</span>

<span class="n">my_job</span> <span class="o">=</span> <span class="n">MyJob</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">my_job</span><span class="o">.</span><span class="n">trigger</span><span class="p">()</span>  <span class="c1"># -&gt; DateTrigger(run_date=datetime(2020, 10, 8, 10, 0, tzinfo=timezone.utc))</span>

<span class="c1"># Then the recovery process will do this:</span>

<span class="n">scheduler</span><span class="o">.</span><span class="n">add_job</span><span class="p">(</span><span class="n">my_job</span><span class="p">,</span> <span class="n">my_job</span><span class="o">.</span><span class="n">trigger</span><span class="p">())</span>
</pre></div>
</div>
<p>If a job needs to be run immediately after recovery,
then simply return DateTrigger(run_date=None).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple of arguments to be supplied to the <code class="docutils literal notranslate"><span class="pre">add_job</span></code> scheduler method.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="supa.job.shared.Job.job_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">job_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#supa.job.shared.Job.job_id" title="Permalink to this definition"></a></dt>
<dd><p>ID of the job like &lt;type of job&gt;=&lt;connection ID&gt;, otherwise random UUID.</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="supa.job.shared.NsiException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.job.shared.</span></span><span class="sig-name descname"><span class="pre">NsiException</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nsi_error</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#supa.connection.error.NsiError" title="supa.connection.error.NsiError"><span class="pre">NsiError</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variables</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#supa.connection.error.Variable" title="supa.connection.error.Variable"><span class="pre">Variable</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.job.shared.NsiException" title="Permalink to this definition"></a></dt>
<dd><p>Exception used in signalling NSI errors within SuPA.</p>
<p>NSI errors are instances of <a class="reference internal" href="#supa.connection.error.NsiError" title="supa.connection.error.NsiError"><code class="xref py py-class docutils literal notranslate"><span class="pre">NsiError</span></code></a>.
They represent a class or errors.
<a class="reference internal" href="#supa.job.shared.NsiException" title="supa.job.shared.NsiException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">NsiException</span></code></a>, on the other hand,
is used to represent a specific occurrence of an <a class="reference internal" href="#supa.connection.error.NsiError" title="supa.connection.error.NsiError"><code class="xref py py-class docutils literal notranslate"><span class="pre">NsiError</span></code></a>
with extra information about the error.
In addition it, being an exception, can be used to interrupt the regular flow of execution.</p>
<p>An <a class="reference internal" href="#supa.job.shared.NsiException" title="supa.job.shared.NsiException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">NsiException</span></code></a> will eventually be converted into a <code class="docutils literal notranslate"><span class="pre">ServiceException</span></code>.
That is a Protobuf data structure/message that will be send back to the NSA/Aggregator.
Hence an <a class="reference internal" href="#supa.job.shared.NsiException" title="supa.job.shared.NsiException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">NsiException</span></code></a> is internal.
An <code class="docutils literal notranslate"><span class="pre">ServiceException</span></code> is external.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="supa.job.shared.NsiException.nsi_error">
<span class="sig-name descname"><span class="pre">nsi_error</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#supa.connection.error.NsiError" title="supa.connection.error.NsiError"><span class="pre">NsiError</span></a></em><a class="headerlink" href="#supa.job.shared.NsiException.nsi_error" title="Permalink to this definition"></a></dt>
<dd><p>Type of error that occurred.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.job.shared.NsiException.extra_info">
<span class="sig-name descname"><span class="pre">extra_info</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#supa.job.shared.NsiException.extra_info" title="Permalink to this definition"></a></dt>
<dd><p>Extra information about the specifics of the error that occurred.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.job.shared.NsiException.variables">
<span class="sig-name descname"><span class="pre">variables</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#supa.connection.error.Variable" title="supa.connection.error.Variable"><span class="pre">Variable</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#supa.job.shared.NsiException.variables" title="Permalink to this definition"></a></dt>
<dd><p>Additional information about the specifics of the error that occurred.</p>
<p>The difference between <a class="reference internal" href="#supa.job.shared.NsiException.extra_info" title="supa.job.shared.NsiException.extra_info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">extra_info</span></code></a> and <a class="reference internal" href="#supa.job.shared.NsiException.variables" title="supa.job.shared.NsiException.variables"><code class="xref py py-attr docutils literal notranslate"><span class="pre">variables</span></code></a>
is that the former in primarily meant to provide a meaningful message to the end user.
Whereas the latter is intended as a <em>a structured machine readable version</em>  of <a class="reference internal" href="#supa.job.shared.NsiException.extra_info" title="supa.job.shared.NsiException.extra_info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">extra_info</span></code></a>.</p>
<p>This difference is of importance
when the <a class="reference internal" href="#supa.job.shared.NsiException" title="supa.job.shared.NsiException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">NsiException</span></code></a> is converted into its Protobuf equivalent: the <code class="docutils literal notranslate"><span class="pre">ServiceException</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="supa.job.shared.NsiException.text">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">text</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#supa.job.shared.NsiException.text" title="Permalink to this definition"></a></dt>
<dd><p>Return text message of the exception/error.</p>
<p>This combines information from the attached <a class="reference internal" href="#supa.connection.error.NsiError" title="supa.connection.error.NsiError"><code class="xref py py-class docutils literal notranslate"><span class="pre">NsiError</span></code></a>
and the <code class="xref py py-attr docutils literal notranslate"><span class="pre">etxra_info</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.job.shared.register_notification">
<span class="sig-prename descclassname"><span class="pre">supa.job.shared.</span></span><span class="sig-name descname"><span class="pre">register_notification</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ErrorEventRequest</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ReserveTimeoutRequest</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">DataPlaneStateChangeRequest</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">MessageDeliveryTimeoutRequest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notification_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#supa.util.type.NotificationType" title="supa.util.type.NotificationType"><span class="pre">NotificationType</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#supa.job.shared.register_notification" title="Permalink to this definition"></a></dt>
<dd><p>Register notification against connection_id in the database and add notification_id to notification.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.job.shared.register_result">
<span class="sig-prename descclassname"><span class="pre">supa.job.shared.</span></span><span class="sig-name descname"><span class="pre">register_result</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ReserveConfirmedRequest</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">GenericConfirmedRequest</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">GenericFailedRequest</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ErrorRequest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">result_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#supa.util.type.ResultType" title="supa.util.type.ResultType"><span class="pre">ResultType</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#supa.job.shared.register_result" title="Permalink to this definition"></a></dt>
<dd><p>Register result against connection_id in the database.</p>
</dd></dl>

</section>
<section id="module-supa.job.reserve">
<span id="supa-job-reserve"></span><h2>supa.job.reserve<a class="headerlink" href="#module-supa.job.reserve" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="supa.job.reserve.StpResources">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.job.reserve.</span></span><span class="sig-name descname"><span class="pre">StpResources</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bandwidth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vlans</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#supa.util.vlan.VlanRanges" title="supa.util.vlan.VlanRanges"><span class="pre">VlanRanges</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.job.reserve.StpResources" title="Permalink to this definition"></a></dt>
<dd><p>Capture STP resources, as returned by an SQLAlchemy query, so that they can be referred to by name.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="supa.job.reserve.StpResources.bandwidth">
<span class="sig-name descname"><span class="pre">bandwidth</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#supa.job.reserve.StpResources.bandwidth" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.job.reserve.StpResources.vlans">
<span class="sig-name descname"><span class="pre">vlans</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#supa.util.vlan.VlanRanges" title="supa.util.vlan.VlanRanges"><span class="pre">VlanRanges</span></a></em><a class="headerlink" href="#supa.job.reserve.StpResources.vlans" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.job.reserve.ReserveJob">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.job.reserve.</span></span><span class="sig-name descname"><span class="pre">ReserveJob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UUID</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.job.reserve.ReserveJob" title="Permalink to this definition"></a></dt>
<dd><p>Handle reservation requests.</p>
<dl class="py method">
<dt class="sig sig-object py" id="supa.job.reserve.ReserveJob.recover">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">recover</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#supa.job.shared.Job" title="supa.job.shared.Job"><span class="pre">Job</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#supa.job.reserve.ReserveJob.recover" title="Permalink to this definition"></a></dt>
<dd><p>Recover ReserveJobs that did not get to run before SuPA was terminated.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of ReserveJobs that still need to be run.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.job.reserve.ReserveJob.trigger">
<span class="sig-name descname"><span class="pre">trigger</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DateTrigger</span></span></span><a class="headerlink" href="#supa.job.reserve.ReserveJob.trigger" title="Permalink to this definition"></a></dt>
<dd><p>Return APScheduler trigger information for scheduling ReserveJobs.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.job.reserve.ReserveCommitJob">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.job.reserve.</span></span><span class="sig-name descname"><span class="pre">ReserveCommitJob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UUID</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.job.reserve.ReserveCommitJob" title="Permalink to this definition"></a></dt>
<dd><p>Handle reservation commit requests.</p>
<dl class="py method">
<dt class="sig sig-object py" id="supa.job.reserve.ReserveCommitJob.recover">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">recover</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#supa.job.shared.Job" title="supa.job.shared.Job"><span class="pre">Job</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#supa.job.reserve.ReserveCommitJob.recover" title="Permalink to this definition"></a></dt>
<dd><p>Recover ReserveCommitJobs that did not get to run before SuPA was terminated.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of ReserveCommitJobs that still need to be run.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.job.reserve.ReserveCommitJob.trigger">
<span class="sig-name descname"><span class="pre">trigger</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DateTrigger</span></span></span><a class="headerlink" href="#supa.job.reserve.ReserveCommitJob.trigger" title="Permalink to this definition"></a></dt>
<dd><p>Trigger for ReserveCommitJobs.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.job.reserve.ReserveAbortJob">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.job.reserve.</span></span><span class="sig-name descname"><span class="pre">ReserveAbortJob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UUID</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.job.reserve.ReserveAbortJob" title="Permalink to this definition"></a></dt>
<dd><p>Handle reservation obort requests.</p>
<dl class="py method">
<dt class="sig sig-object py" id="supa.job.reserve.ReserveAbortJob.recover">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">recover</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#supa.job.shared.Job" title="supa.job.shared.Job"><span class="pre">Job</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#supa.job.reserve.ReserveAbortJob.recover" title="Permalink to this definition"></a></dt>
<dd><p>Recover ReserveAbortJobs that did not get to run before SuPA was terminated.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of ReserveAbortJobs that still need to be run.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.job.reserve.ReserveAbortJob.trigger">
<span class="sig-name descname"><span class="pre">trigger</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DateTrigger</span></span></span><a class="headerlink" href="#supa.job.reserve.ReserveAbortJob.trigger" title="Permalink to this definition"></a></dt>
<dd><p>Trigger for ReserveAbortJobs.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.job.reserve.ReserveTimeoutJob">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.job.reserve.</span></span><span class="sig-name descname"><span class="pre">ReserveTimeoutJob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UUID</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.job.reserve.ReserveTimeoutJob" title="Permalink to this definition"></a></dt>
<dd><p>Handle reserve timeouts.</p>
<dl class="py method">
<dt class="sig sig-object py" id="supa.job.reserve.ReserveTimeoutJob.recover">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">recover</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#supa.job.shared.Job" title="supa.job.shared.Job"><span class="pre">Job</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#supa.job.reserve.ReserveTimeoutJob.recover" title="Permalink to this definition"></a></dt>
<dd><p>Recover ReserveTimeoutJobs that did not get to run before SuPA was terminated.</p>
<p>The current implementation just re-adds a new reservation timeout
for all reservations that are still in ReserveHeld,
potentially almost doubling the original reservation hold time.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of ReserveTimeoutJobs that still need to be run.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.job.reserve.ReserveTimeoutJob.trigger">
<span class="sig-name descname"><span class="pre">trigger</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DateTrigger</span></span></span><a class="headerlink" href="#supa.job.reserve.ReserveTimeoutJob.trigger" title="Permalink to this definition"></a></dt>
<dd><p>Trigger for ReserveTimeoutJobs.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-supa.job.provision">
<span id="supa-job-provision"></span><h2>supa.job.provision<a class="headerlink" href="#module-supa.job.provision" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="supa.job.provision.ProvisionJob">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.job.provision.</span></span><span class="sig-name descname"><span class="pre">ProvisionJob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UUID</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.job.provision.ProvisionJob" title="Permalink to this definition"></a></dt>
<dd><p>Handle provision requests.</p>
<dl class="py method">
<dt class="sig sig-object py" id="supa.job.provision.ProvisionJob.recover">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">recover</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#supa.job.shared.Job" title="supa.job.shared.Job"><span class="pre">Job</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#supa.job.provision.ProvisionJob.recover" title="Permalink to this definition"></a></dt>
<dd><p>Recover ProvisionJobs that did not get to run before SuPA was terminated.</p>
<p>Only include jobs for reservations that are still supposed to have its data plane activated
according to their lifecycle state and end time.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of ProvisionJobs that still need to be run.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.job.provision.ProvisionJob.trigger">
<span class="sig-name descname"><span class="pre">trigger</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DateTrigger</span></span></span><a class="headerlink" href="#supa.job.provision.ProvisionJob.trigger" title="Permalink to this definition"></a></dt>
<dd><p>Trigger for ProvisionJobs.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.job.provision.ReleaseJob">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.job.provision.</span></span><span class="sig-name descname"><span class="pre">ReleaseJob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UUID</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.job.provision.ReleaseJob" title="Permalink to this definition"></a></dt>
<dd><p>Handle release requests.</p>
<dl class="py method">
<dt class="sig sig-object py" id="supa.job.provision.ReleaseJob.recover">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">recover</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#supa.job.shared.Job" title="supa.job.shared.Job"><span class="pre">Job</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#supa.job.provision.ReleaseJob.recover" title="Permalink to this definition"></a></dt>
<dd><p>Recover ReleaseJobs that did not get to run before SuPA was terminated.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of ReleaseJobs that still need to be run.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.job.provision.ReleaseJob.trigger">
<span class="sig-name descname"><span class="pre">trigger</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DateTrigger</span></span></span><a class="headerlink" href="#supa.job.provision.ReleaseJob.trigger" title="Permalink to this definition"></a></dt>
<dd><p>Trigger for ReleaseJobs.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-supa.job.lifecycle">
<span id="supa-job-lifecycle"></span><h2>supa.job.lifecycle<a class="headerlink" href="#module-supa.job.lifecycle" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="supa.job.lifecycle.TerminateJob">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.job.lifecycle.</span></span><span class="sig-name descname"><span class="pre">TerminateJob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UUID</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.job.lifecycle.TerminateJob" title="Permalink to this definition"></a></dt>
<dd><p>Handle provision requests.</p>
<dl class="py method">
<dt class="sig sig-object py" id="supa.job.lifecycle.TerminateJob.recover">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">recover</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#supa.job.shared.Job" title="supa.job.shared.Job"><span class="pre">Job</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#supa.job.lifecycle.TerminateJob.recover" title="Permalink to this definition"></a></dt>
<dd><p>Recover TerminateJobss that did not get to run before SuPA was terminated.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of TerminateJobs that still need to be run.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.job.lifecycle.TerminateJob.trigger">
<span class="sig-name descname"><span class="pre">trigger</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DateTrigger</span></span></span><a class="headerlink" href="#supa.job.lifecycle.TerminateJob.trigger" title="Permalink to this definition"></a></dt>
<dd><p>Trigger for TerminateJobs.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-supa.job.query">
<span id="supa-job-query"></span><h2>supa.job.query<a class="headerlink" href="#module-supa.job.query" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="supa.job.query.create_query_confirmed_request">
<span class="sig-prename descclassname"><span class="pre">supa.job.query.</span></span><span class="sig-name descname"><span class="pre">create_query_confirmed_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pb_query_request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">QueryRequest</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">QueryConfirmedRequest</span></span></span><a class="headerlink" href="#supa.job.query.create_query_confirmed_request" title="Permalink to this definition"></a></dt>
<dd><p>Create a list of reservation information matching the request.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pb_query_request</strong>  Query request with match criteria.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of reservation information.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.job.query.create_query_notification_confirmed_request">
<span class="sig-prename descclassname"><span class="pre">supa.job.query.</span></span><span class="sig-name descname"><span class="pre">create_query_notification_confirmed_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pb_query_notification_request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">QueryNotificationRequest</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">QueryNotificationConfirmedRequest</span></span></span><a class="headerlink" href="#supa.job.query.create_query_notification_confirmed_request" title="Permalink to this definition"></a></dt>
<dd><p>Get a list of notifications for connection ID supplied by query notification request.</p>
<p>Query notification(s) of requested connection ID, if any,
optionally limiting the notifications by start and end notification ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pb_query_notification_request</strong> (<em>QueryNotificationRequest</em>)  </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>QueryNotificationConfirmedRequest with list of notifications.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.job.query.create_query_result_confirmed_request">
<span class="sig-prename descclassname"><span class="pre">supa.job.query.</span></span><span class="sig-name descname"><span class="pre">create_query_result_confirmed_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pb_query_result_request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">QueryResultRequest</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">QueryResultConfirmedRequest</span></span></span><a class="headerlink" href="#supa.job.query.create_query_result_confirmed_request" title="Permalink to this definition"></a></dt>
<dd><p>Get a list of results for connection ID supplied by query result request.</p>
<p>Query results(s) of requested connection ID, if any,
optionally limiting the notifications by start and end result ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pb_query_result_request</strong> (<em>QueryResultRequest</em>)  </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>QueryResultConfirmedRequest with list of results.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.job.query.QuerySummaryJob">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.job.query.</span></span><span class="sig-name descname"><span class="pre">QuerySummaryJob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pb_query_request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">QueryRequest</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.job.query.QuerySummaryJob" title="Permalink to this definition"></a></dt>
<dd><p>Handle query summary requests.</p>
<dl class="py method">
<dt class="sig sig-object py" id="supa.job.query.QuerySummaryJob.recover">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">recover</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#supa.job.shared.Job" title="supa.job.shared.Job"><span class="pre">Job</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#supa.job.query.QuerySummaryJob.recover" title="Permalink to this definition"></a></dt>
<dd><p>Recover QuerySummaryJobs that did not get to run before SuPA was terminated.</p>
<p>As no query summary request details are stored in the database (at this time),
it is not possible to recover QuerySummaryJobs.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of QuerySummaryJobs that still need to be run (currently always empty List).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.job.query.QuerySummaryJob.trigger">
<span class="sig-name descname"><span class="pre">trigger</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DateTrigger</span></span></span><a class="headerlink" href="#supa.job.query.QuerySummaryJob.trigger" title="Permalink to this definition"></a></dt>
<dd><p>Trigger for QuerySummaryJobs.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>DateTrigger set to None, which means run now.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.job.query.QueryRecursiveJob">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.job.query.</span></span><span class="sig-name descname"><span class="pre">QueryRecursiveJob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pb_query_request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">QueryRequest</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.job.query.QueryRecursiveJob" title="Permalink to this definition"></a></dt>
<dd><p>Handle query recursive requests.</p>
<dl class="py method">
<dt class="sig sig-object py" id="supa.job.query.QueryRecursiveJob.recover">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">recover</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#supa.job.shared.Job" title="supa.job.shared.Job"><span class="pre">Job</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#supa.job.query.QueryRecursiveJob.recover" title="Permalink to this definition"></a></dt>
<dd><p>Recover QueryRecursiveJobs that did not get to run before SuPA was terminated.</p>
<p>As no query recursive request details are stored in the database (at this time),
it is not possible to recover QueryRecursiveJobs.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of QueryRecursiveJobs that still need to be run (currently always empty List).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.job.query.QueryRecursiveJob.trigger">
<span class="sig-name descname"><span class="pre">trigger</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DateTrigger</span></span></span><a class="headerlink" href="#supa.job.query.QueryRecursiveJob.trigger" title="Permalink to this definition"></a></dt>
<dd><p>Trigger for QueryRecursiveJobs.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>DateTrigger set to None, which means run now.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.job.query.QueryNotificationJob">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.job.query.</span></span><span class="sig-name descname"><span class="pre">QueryNotificationJob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pb_query_notification_request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">QueryNotificationRequest</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.job.query.QueryNotificationJob" title="Permalink to this definition"></a></dt>
<dd><p>Handle query notification requests.</p>
<dl class="py method">
<dt class="sig sig-object py" id="supa.job.query.QueryNotificationJob.recover">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">recover</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#supa.job.shared.Job" title="supa.job.shared.Job"><span class="pre">Job</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#supa.job.query.QueryNotificationJob.recover" title="Permalink to this definition"></a></dt>
<dd><p>Recover QueryNotificationJobs that did not get to run before SuPA was terminated.</p>
<p>As no query notification request details are stored in the database (at this time),
it is not possible to recover QueryNotificationJobs.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of QueryNotificationJobs that still need to be run (currently always empty List).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.job.query.QueryNotificationJob.trigger">
<span class="sig-name descname"><span class="pre">trigger</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DateTrigger</span></span></span><a class="headerlink" href="#supa.job.query.QueryNotificationJob.trigger" title="Permalink to this definition"></a></dt>
<dd><p>Trigger for QueryNotificationJobs.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>DateTrigger set to None, which means run now.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.job.query.QueryResultJob">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.job.query.</span></span><span class="sig-name descname"><span class="pre">QueryResultJob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pb_query_result_request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">QueryResultRequest</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.job.query.QueryResultJob" title="Permalink to this definition"></a></dt>
<dd><p>Handle query result requests.</p>
<dl class="py method">
<dt class="sig sig-object py" id="supa.job.query.QueryResultJob.recover">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">recover</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#supa.job.shared.Job" title="supa.job.shared.Job"><span class="pre">Job</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#supa.job.query.QueryResultJob.recover" title="Permalink to this definition"></a></dt>
<dd><p>Recover QueryResultJobs that did not get to run before SuPA was terminated.</p>
<p>As no query result request details are stored in the database (at this time),
it is not possible to recover QueryResultJobs.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of QueryResultJobs that still need to be run (currently always empty List).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.job.query.QueryResultJob.trigger">
<span class="sig-name descname"><span class="pre">trigger</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DateTrigger</span></span></span><a class="headerlink" href="#supa.job.query.QueryResultJob.trigger" title="Permalink to this definition"></a></dt>
<dd><p>Trigger for QueryResultJobs.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>DateTrigger set to None, which means run now.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-supa.job.dataplane">
<span id="supa-job-dataplane"></span><h2>supa.job.dataplane<a class="headerlink" href="#module-supa.job.dataplane" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="supa.job.dataplane.ActivateJob">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.job.dataplane.</span></span><span class="sig-name descname"><span class="pre">ActivateJob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UUID</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.job.dataplane.ActivateJob" title="Permalink to this definition"></a></dt>
<dd><p>Handle data plane activation requests.</p>
<dl class="py method">
<dt class="sig sig-object py" id="supa.job.dataplane.ActivateJob.recover">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">recover</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#supa.job.shared.Job" title="supa.job.shared.Job"><span class="pre">Job</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#supa.job.dataplane.ActivateJob.recover" title="Permalink to this definition"></a></dt>
<dd><p>Recover ActivationJobs that did not get to run before SuPA was terminated.</p>
<p>Only include jobs for reservations that are still supposed to have its data plane activated
according to their lifecycle state and end time.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of ActivationJobs that still need to be run.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.job.dataplane.ActivateJob.trigger">
<span class="sig-name descname"><span class="pre">trigger</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DateTrigger</span></span></span><a class="headerlink" href="#supa.job.dataplane.ActivateJob.trigger" title="Permalink to this definition"></a></dt>
<dd><p>Trigger for ActivateJobs.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>DateTrigger set to start_time of reservation.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.job.dataplane.DeactivateJob">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.job.dataplane.</span></span><span class="sig-name descname"><span class="pre">DeactivateJob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UUID</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.job.dataplane.DeactivateJob" title="Permalink to this definition"></a></dt>
<dd><p>Handle data plane deactivation requests.</p>
<dl class="py method">
<dt class="sig sig-object py" id="supa.job.dataplane.DeactivateJob.recover">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">recover</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#supa.job.shared.Job" title="supa.job.shared.Job"><span class="pre">Job</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#supa.job.dataplane.DeactivateJob.recover" title="Permalink to this definition"></a></dt>
<dd><p>Recover DeactivationJobs that did not get to run before SuPA was terminated.</p>
<p>Also include jobs for reservations that are passed end time to ensue date plane is deactivated,
hence reservations are not filtered on lifecycle state or end time.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of DeactivationJobs that still need to be run.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.job.dataplane.DeactivateJob.trigger">
<span class="sig-name descname"><span class="pre">trigger</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DateTrigger</span></span></span><a class="headerlink" href="#supa.job.dataplane.DeactivateJob.trigger" title="Permalink to this definition"></a></dt>
<dd><p>Trigger for DeactivateJobs.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>DateTrigger set to None if (run immediately) if reservation is released or not active anymore or
to end_time otherwise (end_time can be in the past when recovering).</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.job.dataplane.AutoStartJob">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.job.dataplane.</span></span><span class="sig-name descname"><span class="pre">AutoStartJob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UUID</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.job.dataplane.AutoStartJob" title="Permalink to this definition"></a></dt>
<dd><p>Handle automatic activation of data plane when start time is reached.</p>
<dl class="py method">
<dt class="sig sig-object py" id="supa.job.dataplane.AutoStartJob.recover">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">recover</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#supa.job.shared.Job" title="supa.job.shared.Job"><span class="pre">Job</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#supa.job.dataplane.AutoStartJob.recover" title="Permalink to this definition"></a></dt>
<dd><p>Recover AutoStartJobs that did not get to run before SuPA was terminated.</p>
<p>Only include jobs for reservations that are still supposed to have its data plane activated
according to their lifecycle state and end time.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of AutoStartJobs that still need to be run.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.job.dataplane.AutoStartJob.trigger">
<span class="sig-name descname"><span class="pre">trigger</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DateTrigger</span></span></span><a class="headerlink" href="#supa.job.dataplane.AutoStartJob.trigger" title="Permalink to this definition"></a></dt>
<dd><p>Trigger for AutoStartJobs.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>AutoStart set to start_time of reservation.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.job.dataplane.AutoEndJob">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.job.dataplane.</span></span><span class="sig-name descname"><span class="pre">AutoEndJob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UUID</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.job.dataplane.AutoEndJob" title="Permalink to this definition"></a></dt>
<dd><p>Handle automatic deactivation of data plane when end time is reached.</p>
<dl class="py method">
<dt class="sig sig-object py" id="supa.job.dataplane.AutoEndJob.recover">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">recover</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#supa.job.shared.Job" title="supa.job.shared.Job"><span class="pre">Job</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#supa.job.dataplane.AutoEndJob.recover" title="Permalink to this definition"></a></dt>
<dd><p>Recover AutoEndJobs that did not get to run before SuPA was terminated.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of AutoEndJobs that still need to be run.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.job.dataplane.AutoEndJob.trigger">
<span class="sig-name descname"><span class="pre">trigger</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DateTrigger</span></span></span><a class="headerlink" href="#supa.job.dataplane.AutoEndJob.trigger" title="Permalink to this definition"></a></dt>
<dd><p>Trigger for AutoEndJobs.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>AutoEnd set to end_time of reservation.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-supa.connection.fsm">
<span id="supa-connection-fsm"></span><h2>supa.connection.fsm<a class="headerlink" href="#module-supa.connection.fsm" title="Permalink to this heading"></a></h2>
<p>Define the three NSI Connection Service state machines.</p>
<p>The NSI Connection Service defines three state machines that,
together with the message processing functions (=coordinator functions in NSI parlance),
model the behaviour of the protocol.</p>
<p>They are:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#supa.connection.fsm.ReservationStateMachine" title="supa.connection.fsm.ReservationStateMachine"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReservationStateMachine</span></code></a> (RSM)</p></li>
<li><p><a class="reference internal" href="#supa.connection.fsm.ProvisionStateMachine" title="supa.connection.fsm.ProvisionStateMachine"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProvisionStateMachine</span></code></a> (PSM)</p></li>
<li><p><a class="reference internal" href="#supa.connection.fsm.LifecycleStateMachine" title="supa.connection.fsm.LifecycleStateMachine"><code class="xref py py-class docutils literal notranslate"><span class="pre">LifecycleStateMachine</span></code></a> (LSM)</p></li>
</ul>
<p>The state machines explicitly regulate the sequence in which messages are processed.
The CS messages are each assigned to one of the three state machines:
RSM, PSM and LSM.
When the first reserve request for a new Connection is received,
the function processing the reserve requests MUST coordinate the creation of the
RSM, PSM and LSM
state machines for that specific connection.</p>
<p>The RSM and LSM MUST be instantiated as soon as the first Connection request is received.</p>
<p>The PSM MUST be instantiated as soon as the first version of the reservation is committed.</p>
<dl class="py class">
<dt class="sig sig-object py" id="supa.connection.fsm.SuPAStateMachine">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.connection.fsm.</span></span><span class="sig-name descname"><span class="pre">SuPAStateMachine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.connection.fsm.SuPAStateMachine" title="Permalink to this definition"></a></dt>
<dd><p>Add logging capabilities to StateMachine.</p>
<dl class="py method">
<dt class="sig sig-object py" id="supa.connection.fsm.SuPAStateMachine.on_enter_state">
<span class="sig-name descname"><span class="pre">on_enter_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">State</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#supa.connection.fsm.SuPAStateMachine.on_enter_state" title="Permalink to this definition"></a></dt>
<dd><p>Statemachine will call this function on every state transition.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.connection.fsm.ReservationStateMachine">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.connection.fsm.</span></span><span class="sig-name descname"><span class="pre">ReservationStateMachine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.connection.fsm.ReservationStateMachine" title="Permalink to this definition"></a></dt>
<dd><p>Reservation State Machine.</p>
<img alt="_images/ReservationStateMachine.png" src="_images/ReservationStateMachine.png" />
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.connection.fsm.ProvisionStateMachine">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.connection.fsm.</span></span><span class="sig-name descname"><span class="pre">ProvisionStateMachine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.connection.fsm.ProvisionStateMachine" title="Permalink to this definition"></a></dt>
<dd><p>Provision State Machine.</p>
<img alt="_images/ProvisionStateMachine.png" src="_images/ProvisionStateMachine.png" />
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.connection.fsm.LifecycleStateMachine">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.connection.fsm.</span></span><span class="sig-name descname"><span class="pre">LifecycleStateMachine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.connection.fsm.LifecycleStateMachine" title="Permalink to this definition"></a></dt>
<dd><p>Lifecycle State Machine.</p>
<img alt="_images/LifecycleStateMachine.png" src="_images/LifecycleStateMachine.png" />
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.connection.fsm.DataPlaneStateMachine">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.connection.fsm.</span></span><span class="sig-name descname"><span class="pre">DataPlaneStateMachine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.connection.fsm.DataPlaneStateMachine" title="Permalink to this definition"></a></dt>
<dd><p>DataPlane State Machine.</p>
<img alt="_images/DataPlaneStateMachine.png" src="_images/DataPlaneStateMachine.png" />
</dd></dl>

</section>
<section id="module-supa.connection.error">
<span id="supa-connection-error"></span><h2>supa.connection.error<a class="headerlink" href="#module-supa.connection.error" title="Permalink to this heading"></a></h2>
<p>Predefined NSI errors.</p>
<p>The errors are not defined in the NSI Connection Service v2.1 specification.
Instead there is a separate document
<a class="reference external" href="https://www.ogf.org/documents/GFD.235.pdf">Error Handling in NSI CS 2.1</a>
that specifies these errors.</p>
<p>Not all errors might be applicable to SuPAs operation,
it being a Provider Agent,
though all have been included for reference.</p>
<table class="docutils align-default" id="id2">
<caption><span class="caption-text">Predefined NSI errors</span><a class="headerlink" href="#id2" title="Permalink to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">error_id</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">error_code</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">descriptive_text</span></code></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>GenericMessagePayLoadError</p></td>
<td><p>00100</p></td>
<td><p>GENERIC_MESSAGE_PAYLOAD_ERROR</p></td>
<td><p>Illegal message payload.</p></td>
</tr>
<tr class="row-odd"><td><p>MissingParameter</p></td>
<td><p>00101</p></td>
<td><p>MISSING_PARAMETER</p></td>
<td><p>Invalid or missing parameter.</p></td>
</tr>
<tr class="row-even"><td><p>UnsupportedParameter</p></td>
<td><p>00102</p></td>
<td><p>UNSUPPORTED_PARAMETER</p></td>
<td><p>Provided parameter contains an unsupported value that MUST be processed.</p></td>
</tr>
<tr class="row-odd"><td><p>NotImplemented</p></td>
<td><p>00103</p></td>
<td><p>NOT_IMPLEMENTED</p></td>
<td><p>Requested feature has not been implemented.</p></td>
</tr>
<tr class="row-even"><td><p>VersionNotSupported</p></td>
<td><p>00104</p></td>
<td><p>VERSION_NOT_SUPPORTED</p></td>
<td><p>The protocol version requested is not supported.</p></td>
</tr>
<tr class="row-odd"><td><p>GenericConnectionError</p></td>
<td><p>00200</p></td>
<td><p>GENERIC_CONNECTION_ERROR</p></td>
<td><p>A connection error has occurred.</p></td>
</tr>
<tr class="row-even"><td><p>InvalidTransition</p></td>
<td><p>00201</p></td>
<td><p>INVALID_TRANSITION</p></td>
<td><p>Connection state machine is in invalid state for received message.</p></td>
</tr>
<tr class="row-odd"><td><p>ReservationNonExistent</p></td>
<td><p>00203</p></td>
<td><p>RESERVATION_NONEXISTENT</p></td>
<td><p>Schedule does not exist for connectionId.</p></td>
</tr>
<tr class="row-even"><td><p>GenericSecurityError</p></td>
<td><p>00300</p></td>
<td><p>GENERIC_SECURITY_ERROR</p></td>
<td><p>A security error has occurred.</p></td>
</tr>
<tr class="row-odd"><td><p>Unauthorized</p></td>
<td><p>00302</p></td>
<td><p>UNAUTHORIZED</p></td>
<td><p>Insufficient authorization to perform requested operation.</p></td>
</tr>
<tr class="row-even"><td><p>GenericMetadataError</p></td>
<td><p>00400</p></td>
<td><p>GENERIC_METADATA_ERROR</p></td>
<td><p>A topology or generic path computation error has occurred.</p></td>
</tr>
<tr class="row-odd"><td><p>DomainLookupError</p></td>
<td><p>00405</p></td>
<td><p>DOMAIN_LOOKUP_ERROR</p></td>
<td><p>Unknown network for requested resource.</p></td>
</tr>
<tr class="row-even"><td><p>NsaLookupError</p></td>
<td><p>00406</p></td>
<td><p>NSA_LOOKUP_ERROR</p></td>
<td><p>Cannot map networkId to service interface.</p></td>
</tr>
<tr class="row-odd"><td><p>NoServiceplanePathFound</p></td>
<td><p>00407</p></td>
<td><p>NO_SERVICEPLANE_PATH_FOUND</p></td>
<td><p>No service plane path for selected connection segments.</p></td>
</tr>
<tr class="row-even"><td><p>GenericInternalError</p></td>
<td><p>00500</p></td>
<td><p>GENERIC_INTERNAL_ERROR</p></td>
<td><p>An internal error has caused a message processing failure.</p></td>
</tr>
<tr class="row-odd"><td><p>ChildSegmentError</p></td>
<td><p>00502</p></td>
<td><p>CHILD_SEGMENT_ERROR</p></td>
<td><p>Child connection segment error is present.</p></td>
</tr>
<tr class="row-even"><td><p>MessageDeliveryError</p></td>
<td><p>00503</p></td>
<td><p>MESSAGE_DELIVERY_ERROR</p></td>
<td><p>Failed message delivery to peer NSA.</p></td>
</tr>
<tr class="row-odd"><td><p>GenericResourceUnavailable</p></td>
<td><p>00600</p></td>
<td><p>GENERIC_RESOURCE_UNAVAILABLE</p></td>
<td><p>A requested resource(s) is not available.</p></td>
</tr>
<tr class="row-even"><td><p>GenericServiceError</p></td>
<td><p>00700</p></td>
<td><p>GENERIC_SERVICE_ERROR</p></td>
<td><p>A service specific error has occurred.</p></td>
</tr>
<tr class="row-odd"><td><p>UnknownStp</p></td>
<td><p>00701</p></td>
<td><p>UNKNOWN_STP</p></td>
<td><p>Could not find STP in topology database.</p></td>
</tr>
<tr class="row-even"><td><p>LabelSwappingNotSupported</p></td>
<td><p>00703</p></td>
<td><p>LABEL_SWAPPING_NOT_SUPPORTED</p></td>
<td><p>Label swapping not supported for requested path.</p></td>
</tr>
<tr class="row-odd"><td><p>StpUnavailable</p></td>
<td><p>00704</p></td>
<td><p>STP_UNAVALABLE</p></td>
<td><p>Specified STP already in use.</p></td>
</tr>
<tr class="row-even"><td><p>CapacityUnavailable</p></td>
<td><p>00705</p></td>
<td><p>CAPACITY_UNAVAILABLE</p></td>
<td><p>Insufficient capacity available for reservation.</p></td>
</tr>
<tr class="row-odd"><td><p>DirectionalityMismatch</p></td>
<td><p>00706</p></td>
<td><p>DIRECTIONALITY_MISMATCH</p></td>
<td><p>Directionality of specified STP does not match request directionality.</p></td>
</tr>
<tr class="row-even"><td><p>InvalidEroMember</p></td>
<td><p>00707</p></td>
<td><p>INVALID_ERO_MEMBER</p></td>
<td><p>Invalid ERO member detected.</p></td>
</tr>
<tr class="row-odd"><td><p>UnknownLabelType</p></td>
<td><p>00708</p></td>
<td><p>UNKNOWN_LABEL_TYPE</p></td>
<td><p>Specified STP contains an unknown label type.</p></td>
</tr>
<tr class="row-even"><td><p>InvalidLabelFormat</p></td>
<td><p>00709</p></td>
<td><p>INVALID_LABEL_FORMAT</p></td>
<td><p>Specified STP contains an invalid label.</p></td>
</tr>
<tr class="row-odd"><td><p>NoTransportplanePathFound</p></td>
<td><p>00710</p></td>
<td><p>NO_TRANSPORTPLANE_PATH_FOUND</p></td>
<td><p>Path computation failed to resolve route for reservation.</p></td>
</tr>
<tr class="row-even"><td><p>GenericRmError</p></td>
<td><p>00800</p></td>
<td><p>GENERIC_RM_ERROR</p></td>
<td><p>An internal (N)RM error has caused a message processing failure.</p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt class="sig sig-object py" id="supa.connection.error.Variable">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.connection.error.</span></span><span class="sig-name descname"><span class="pre">Variable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.connection.error.Variable" title="Permalink to this definition"></a></dt>
<dd><p>Variable to namespace mapping.</p>
<p>This is a peculiarity of the original SOAP underpinning of the NSI protocol.
Even though all that is XML has largely been abstracted away from us
by using the Protobuf version of NSI,
we still need to track certain things
to facilitate a proper translation between the two protocol versions.
The namespace associated with each variable (in the <cite>ServiceException`</cite>) is such a thing.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.connection.error.NsiError">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.connection.error.</span></span><span class="sig-name descname"><span class="pre">NsiError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">error_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error_code</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">descriptive_text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.connection.error.NsiError" title="Permalink to this definition"></a></dt>
<dd><p>Predefined NSI errors.</p>
<p>Reporting of these errors happens as part of the <code class="docutils literal notranslate"><span class="pre">ServiceException</span></code> message.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">text</span></code> field of the <code class="docutils literal notranslate"><span class="pre">ServiceException</span></code> should be made up of three parts:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">error_code</span><span class="p">:</span> <span class="n">descriptive_text</span> <span class="p">[</span><span class="n">extra</span> <span class="n">information</span><span class="p">]</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="supa.connection.error.NsiError.error_id">
<span class="sig-name descname"><span class="pre">error_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#supa.connection.error.NsiError.error_id" title="Permalink to this definition"></a></dt>
<dd><p>An unique ID for the error.</p>
<p>The <a class="reference internal" href="#supa.connection.error.NsiError.error_id" title="supa.connection.error.NsiError.error_id"><code class="xref py py-attr docutils literal notranslate"><span class="pre">error_id</span></code></a> can optionally be included in the <code class="docutils literal notranslate"><span class="pre">ServiceException</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.connection.error.NsiError.error_code">
<span class="sig-name descname"><span class="pre">error_code</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#supa.connection.error.NsiError.error_code" title="Permalink to this definition"></a></dt>
<dd><p>Human readable name of the error.</p>
<p>The <a class="reference internal" href="#supa.connection.error.NsiError.error_code" title="supa.connection.error.NsiError.error_code"><code class="xref py py-attr docutils literal notranslate"><span class="pre">error_code</span></code></a> should always be included in the <code class="docutils literal notranslate"><span class="pre">ServiceException</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="supa.connection.error.NsiError.descriptive_text">
<span class="sig-name descname"><span class="pre">descriptive_text</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#supa.connection.error.NsiError.descriptive_text" title="Permalink to this definition"></a></dt>
<dd><p>Descriptive text explaining the error.</p>
<p>The <code class="xref py py-attr docutils literal notranslate"><span class="pre">text</span></code> should always be included in the <code class="docutils literal notranslate"><span class="pre">ServiceException</span></code>.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-supa.connection.requester">
<span id="supa-connection-requester"></span><h2>supa.connection.requester<a class="headerlink" href="#module-supa.connection.requester" title="Permalink to this heading"></a></h2>
<p>Module with function for communication with the PolyNSI connection requester.</p>
<dl class="py function">
<dt class="sig sig-object py" id="supa.connection.requester.get_stub">
<span class="sig-prename descclassname"><span class="pre">supa.connection.requester.</span></span><span class="sig-name descname"><span class="pre">get_stub</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConnectionRequesterStub</span></span></span><a class="headerlink" href="#supa.connection.requester.get_stub" title="Permalink to this definition"></a></dt>
<dd><p>Get the connection requester stub.</p>
</dd></dl>

</section>
<section id="module-supa.connection.provider.server">
<span id="supa-connection-provider-server"></span><h2>supa.connection.provider.server<a class="headerlink" href="#module-supa.connection.provider.server" title="Permalink to this heading"></a></h2>
<p>Implementation of the gRPC based Connection Provider Service.</p>
<dl class="py class">
<dt class="sig sig-object py" id="supa.connection.provider.server.ConnectionProviderService">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.connection.provider.server.</span></span><span class="sig-name descname"><span class="pre">ConnectionProviderService</span></span><a class="headerlink" href="#supa.connection.provider.server.ConnectionProviderService" title="Permalink to this definition"></a></dt>
<dd><p>Implementation of the gRPC Connection Provider Service.</p>
<p>Each of the methods in this class corresponds to gRPC defined <code class="docutils literal notranslate"><span class="pre">rpc</span></code> calls in the <code class="docutils literal notranslate"><span class="pre">connection.provider</span></code>
gPRC package.</p>
<dl class="py method">
<dt class="sig sig-object py" id="supa.connection.provider.server.ConnectionProviderService.Reserve">
<span class="sig-name descname"><span class="pre">Reserve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pb_reserve_request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ReserveRequest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ServicerContext</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ReserveResponse</span></span></span><a class="headerlink" href="#supa.connection.provider.server.ConnectionProviderService.Reserve" title="Permalink to this definition"></a></dt>
<dd><p>Request new reservation, or modify existing reservation.</p>
<p>The reserve message is sent from an RA to a PA when a new reservation is being requested, or
a modification to an existing reservation is required. The <code class="xref py py-class docutils literal notranslate"><span class="pre">ReserveResponse</span></code> indicates that the PA
has accepted the reservation request for processing and has assigned it the returned
connectionId. The original <code class="docutils literal notranslate"><span class="pre">connection_id</span></code> will be returned for the <code class="xref py py-class docutils literal notranslate"><span class="pre">ReserveResponse`</span></code> of a
modification. A <code class="xref py py-class docutils literal notranslate"><span class="pre">ReserveConfirmed</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">ReserveFailed</span></code> message will be sent asynchronously to the
RA when reserve operation has completed processing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pb_reserve_request</strong>  All the details about the requested reservation.</p></li>
<li><p><strong>context</strong>  gRPC server context object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">ReserveResponse</span></code> message containing the PA assigned <code class="docutils literal notranslate"><span class="pre">connection_id</span></code> for this reservation
request. This value will be unique within the context of the PA.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.connection.provider.server.ConnectionProviderService.ReserveCommit">
<span class="sig-name descname"><span class="pre">ReserveCommit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pb_reserve_commit_request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">GenericRequest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ServicerContext</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">GenericAcknowledgment</span></span></span><a class="headerlink" href="#supa.connection.provider.server.ConnectionProviderService.ReserveCommit" title="Permalink to this definition"></a></dt>
<dd><p>Commit reservation.</p>
<p>Check if the connection ID exists and if the reservation state machine transition is
allowed, all real work for committing the reservation is done asynchronously by
<a class="reference internal" href="#supa.job.reserve.ReserveCommitJob" title="supa.job.reserve.ReserveCommitJob"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReserveCommitJob</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pb_reserve_commit_request</strong>  Basically the connection_id wrapped in a request like object</p></li>
<li><p><strong>context</strong>  gRPC server context object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A response telling the caller we have received its commit request.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.connection.provider.server.ConnectionProviderService.ReserveAbort">
<span class="sig-name descname"><span class="pre">ReserveAbort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pb_reserve_abort_request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">GenericRequest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ServicerContext</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">GenericAcknowledgment</span></span></span><a class="headerlink" href="#supa.connection.provider.server.ConnectionProviderService.ReserveAbort" title="Permalink to this definition"></a></dt>
<dd><p>Abort reservation.</p>
<p>Check if the connection ID exists and if the reservation state machine transition is
allowed, all real work for aborting the reservation is done asynchronously by
<a class="reference internal" href="#supa.job.reserve.ReserveAbortJob" title="supa.job.reserve.ReserveAbortJob"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReserveAbortJob</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pb_reserve_abort_request</strong>  Basically the connection wrapped in a request like object</p></li>
<li><p><strong>context</strong>  gRPC server context object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A response telling the caller we have received its abort request.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.connection.provider.server.ConnectionProviderService.Provision">
<span class="sig-name descname"><span class="pre">Provision</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pb_provision_request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">GenericRequest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ServicerContext</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">GenericAcknowledgment</span></span></span><a class="headerlink" href="#supa.connection.provider.server.ConnectionProviderService.Provision" title="Permalink to this definition"></a></dt>
<dd><p>Provision reservation.</p>
<p>Check if the connection ID exists, if the provision state machine exists (as an indication
that the reservation was committed), and if the provision state machine transition is
allowed, all real work for provisioning the reservation is done asynchronously by
<code class="xref py py-class docutils literal notranslate"><span class="pre">ProvisionJob</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pb_provision_request</strong>  Basically the connection id wrapped in a request like object</p></li>
<li><p><strong>context</strong>  gRPC server context object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A response telling the caller we have received its provision request.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.connection.provider.server.ConnectionProviderService.Release">
<span class="sig-name descname"><span class="pre">Release</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pb_release_request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">GenericRequest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ServicerContext</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">GenericAcknowledgment</span></span></span><a class="headerlink" href="#supa.connection.provider.server.ConnectionProviderService.Release" title="Permalink to this definition"></a></dt>
<dd><p>Release reservation.</p>
<p>Check if the connection ID exists, if the provision state machine exists (as an indication
that the reservation was committed), and if the provision state machine transition is
allowed, all real work for releasing the reservation is done asynchronously by
<code class="xref py py-class docutils literal notranslate"><span class="pre">ReleaseJob</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pb_release_request</strong>  Basically the connection id wrapped in a request like object</p></li>
<li><p><strong>context</strong>  gRPC server context object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A response telling the caller we have received its release request.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.connection.provider.server.ConnectionProviderService.Terminate">
<span class="sig-name descname"><span class="pre">Terminate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pb_terminate_request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">GenericRequest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ServicerContext</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">GenericAcknowledgment</span></span></span><a class="headerlink" href="#supa.connection.provider.server.ConnectionProviderService.Terminate" title="Permalink to this definition"></a></dt>
<dd><p>Terminate reservation.</p>
<p>Check if the connection ID exists and if the lifecycle state machine transition is
allowed, all real work for terminating the reservation is done asynchronously by
<code class="xref py py-class docutils literal notranslate"><span class="pre">TerminateJob</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pb_terminate_request</strong>  Basically the connection id wrapped in a request like object</p></li>
<li><p><strong>context</strong>  gRPC server context object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A response telling the caller we have received its terminate request.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.connection.provider.server.ConnectionProviderService.QuerySummary">
<span class="sig-name descname"><span class="pre">QuerySummary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pb_query_request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">QueryRequest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ServicerContext</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">GenericAcknowledgment</span></span></span><a class="headerlink" href="#supa.connection.provider.server.ConnectionProviderService.QuerySummary" title="Permalink to this definition"></a></dt>
<dd><p>Query reservation(s) summary.</p>
<p>Start an <code class="xref py py-class docutils literal notranslate"><span class="pre">QuerySummaryJob</span></code> to gather and return
all requested information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pb_query_request</strong>  protobuf query request message</p></li>
<li><p><strong>context</strong>  gRPC server context object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A response telling the caller we have received its query request.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.connection.provider.server.ConnectionProviderService.QuerySummarySync">
<span class="sig-name descname"><span class="pre">QuerySummarySync</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pb_query_request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">QueryRequest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ServicerContext</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">QueryConfirmedRequest</span></span></span><a class="headerlink" href="#supa.connection.provider.server.ConnectionProviderService.QuerySummarySync" title="Permalink to this definition"></a></dt>
<dd><p>Query reservation(s) summary and synchronously return result.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pb_query_request</strong>  protobuf query request message</p></li>
<li><p><strong>context</strong>  gRPC server context object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The matching reservation information.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.connection.provider.server.ConnectionProviderService.QueryRecursive">
<span class="sig-name descname"><span class="pre">QueryRecursive</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pb_query_request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">QueryRequest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ServicerContext</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">GenericAcknowledgment</span></span></span><a class="headerlink" href="#supa.connection.provider.server.ConnectionProviderService.QueryRecursive" title="Permalink to this definition"></a></dt>
<dd><p>Query recursive reservation(s) summary.</p>
<p>Start an <code class="xref py py-class docutils literal notranslate"><span class="pre">QueryRecursiveJob</span></code> to gather and return
all requested information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pb_query_request</strong>  protobuf query request message</p></li>
<li><p><strong>context</strong>  gRPC server context object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A response telling the caller we have received its query request.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.connection.provider.server.ConnectionProviderService.QueryNotification">
<span class="sig-name descname"><span class="pre">QueryNotification</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pb_query_notification_request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">QueryNotificationRequest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ServicerContext</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">GenericAcknowledgment</span></span></span><a class="headerlink" href="#supa.connection.provider.server.ConnectionProviderService.QueryNotification" title="Permalink to this definition"></a></dt>
<dd><p>Query notification(s).</p>
<p>Start an <code class="xref py py-class docutils literal notranslate"><span class="pre">QueryNotificationJob</span></code> to gather and return
all requested information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pb_query_notification_request</strong>  protobuf query notification request message</p></li>
<li><p><strong>context</strong>  gRPC server context object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A response telling the caller we have received its query request.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.connection.provider.server.ConnectionProviderService.QueryNotificationSync">
<span class="sig-name descname"><span class="pre">QueryNotificationSync</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pb_query_notification_request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">QueryNotificationRequest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ServicerContext</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">QueryNotificationConfirmedRequest</span></span></span><a class="headerlink" href="#supa.connection.provider.server.ConnectionProviderService.QueryNotificationSync" title="Permalink to this definition"></a></dt>
<dd><p>Return a QueryNotificationConfirmedRequest bypassing the usual Response message.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pb_query_notification_request</strong>  protobuf query notification request message</p></li>
<li><p><strong>context</strong>  gRPC server context object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A response containing the requested notifications for this connection ID.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.connection.provider.server.ConnectionProviderService.QueryResult">
<span class="sig-name descname"><span class="pre">QueryResult</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pb_query_result_request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">QueryResultRequest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ServicerContext</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">GenericAcknowledgment</span></span></span><a class="headerlink" href="#supa.connection.provider.server.ConnectionProviderService.QueryResult" title="Permalink to this definition"></a></dt>
<dd><p>Query result(s).</p>
<p>Start an <code class="xref py py-class docutils literal notranslate"><span class="pre">QueryResultJob</span></code> to gather and return
all requested information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pb_query_result_request</strong>  protobuf query result request message</p></li>
<li><p><strong>context</strong>  gRPC server context object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A response telling the caller we have received its query request.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.connection.provider.server.ConnectionProviderService.QueryResultSync">
<span class="sig-name descname"><span class="pre">QueryResultSync</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pb_query_result_request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">QueryResultRequest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ServicerContext</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">QueryResultConfirmedRequest</span></span></span><a class="headerlink" href="#supa.connection.provider.server.ConnectionProviderService.QueryResultSync" title="Permalink to this definition"></a></dt>
<dd><p>Return a QueryResultConfirmedRequest bypassing the usual Response message.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pb_query_result_request</strong>  protobuf query result request message</p></li>
<li><p><strong>context</strong>  gRPC server context object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A response containing the requested results for this connection ID.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-supa.util.bandwidth">
<span id="supa-util-bandwidth"></span><h2>supa.util.bandwidth<a class="headerlink" href="#module-supa.util.bandwidth" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="supa.util.bandwidth.format_bandwidth">
<span class="sig-prename descclassname"><span class="pre">supa.util.bandwidth.</span></span><span class="sig-name descname"><span class="pre">format_bandwidth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mbits</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">short</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#supa.util.bandwidth.format_bandwidth" title="Permalink to this definition"></a></dt>
<dd><p>Format bandwidth with unit designator (eg, Mbit/s or M).</p>
<ul class="simple">
<li><p>It supports units up to and including Petabit.</p></li>
<li><p>If it cannot convert the number to an integral one, it will allow for 1 decimal.</p></li>
<li><p>Negative bandwidths will always return 0 Mbit/s or 0 M</p></li>
</ul>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_bandwidth</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span>
<span class="go">&#39;40 Mbit/s&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_bandwidth</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="n">short</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&#39;40M&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_bandwidth</span><span class="p">(</span><span class="mi">10000</span><span class="p">)</span>
<span class="go">&#39;10 Gbit/s&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_bandwidth</span><span class="p">(</span><span class="mi">10000</span><span class="p">,</span> <span class="n">short</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&#39;10G&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_bandwidth</span><span class="p">(</span><span class="mi">1300</span><span class="p">)</span>
<span class="go">&#39;1.3 Gbit/s&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_bandwidth</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&#39;0 Mbit/s&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_bandwidth</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">)</span>
<span class="go">&#39;0 Mbit/s&#39;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mbits</strong>  number of mbits</p></li>
<li><p><strong>short</strong>  boolean indicating whether to use M, G or Mbit/s or Gbit/s, etc</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Formatted number with unit designator.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-supa.util.converter">
<span id="supa-util-converter"></span><h2>supa.util.converter<a class="headerlink" href="#module-supa.util.converter" title="Permalink to this heading"></a></h2>
<p>Converter functions for converting data to and from Protobuf messages.</p>
<dl class="py function">
<dt class="sig sig-object py" id="supa.util.converter.to_header">
<span class="sig-prename descclassname"><span class="pre">supa.util.converter.</span></span><span class="sig-name descname"><span class="pre">to_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reservation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#supa.db.model.Reservation" title="supa.db.model.Reservation"><span class="pre">Reservation</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_path_segment</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Header</span></span></span><a class="headerlink" href="#supa.util.converter.to_header" title="Permalink to this definition"></a></dt>
<dd><p>Create Protobuf <code class="docutils literal notranslate"><span class="pre">Header</span></code> out of DB stored reservation data.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Using a DB model can be tricky.
This function should either be called within a active SQLAlchemy session.
Or it should be called with a <a class="reference internal" href="#supa.db.model.Reservation" title="supa.db.model.Reservation"><code class="xref py py-class docutils literal notranslate"><span class="pre">Reservation</span></code></a> model
that has been detached for a session.
In case of the latter
one should make sure that all relations have been eagerly loaded,
as a detached model has no ability to load unload attributes.</p>
<p>See also: <a class="reference external" href="https://docs.sqlalchemy.org/en/13/orm/session_state_management.html#session-object-states">https://docs.sqlalchemy.org/en/13/orm/session_state_management.html#session-object-states</a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>reservation</strong>  DB model</p></li>
<li><p><strong>add_path_segment</strong>  Should we add our own Segment to the PathTrace?</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A Protobuf <code class="docutils literal notranslate"><span class="pre">Header</span></code> object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.util.converter.to_connection_states">
<span class="sig-prename descclassname"><span class="pre">supa.util.converter.</span></span><span class="sig-name descname"><span class="pre">to_connection_states</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reservation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#supa.db.model.Reservation" title="supa.db.model.Reservation"><span class="pre">Reservation</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_plane_active</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConnectionStates</span></span></span><a class="headerlink" href="#supa.util.converter.to_connection_states" title="Permalink to this definition"></a></dt>
<dd><p>Create Protobuf <code class="docutils literal notranslate"><span class="pre">ConnectionStates</span></code> out of DB stored reservation data.</p>
<p>See Also: warning in <a class="reference internal" href="#supa.util.converter.to_header" title="supa.util.converter.to_header"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_header()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>reservation</strong>  DB model</p></li>
<li><p><strong>data_plane_active</strong>  Whether the data plane is active or not.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A Protobuf <code class="docutils literal notranslate"><span class="pre">ConnectionStates</span></code> object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.util.converter.to_service_exception">
<span class="sig-prename descclassname"><span class="pre">supa.util.converter.</span></span><span class="sig-name descname"><span class="pre">to_service_exception</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nsi_exc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#supa.job.shared.NsiException" title="supa.job.shared.NsiException"><span class="pre">NsiException</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">connection_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UUID</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ServiceException</span></span></span><a class="headerlink" href="#supa.util.converter.to_service_exception" title="Permalink to this definition"></a></dt>
<dd><p>Create Protobuf <code class="docutils literal notranslate"><span class="pre">ServiceException</span></code> out of an NsiException.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nsi_exc</strong>  The NsiException to convert.</p></li>
<li><p><strong>connection_id</strong>  The connnection_id of the Reservation the exception pertains to.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <code class="docutils literal notranslate"><span class="pre">ServiceException</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.util.converter.to_schedule">
<span class="sig-prename descclassname"><span class="pre">supa.util.converter.</span></span><span class="sig-name descname"><span class="pre">to_schedule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reservation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#supa.db.model.Reservation" title="supa.db.model.Reservation"><span class="pre">Reservation</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Schedule</span></span></span><a class="headerlink" href="#supa.util.converter.to_schedule" title="Permalink to this definition"></a></dt>
<dd><p>Create Protobuf <code class="docutils literal notranslate"><span class="pre">Schedule</span></code> out of DB stored reservation data.</p>
<p>See Also: warning in <a class="reference internal" href="#supa.util.converter.to_header" title="supa.util.converter.to_header"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_header()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>reservation</strong>  DB model</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A Schedule object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.util.converter.to_p2p_service">
<span class="sig-prename descclassname"><span class="pre">supa.util.converter.</span></span><span class="sig-name descname"><span class="pre">to_p2p_service</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reservation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#supa.db.model.Reservation" title="supa.db.model.Reservation"><span class="pre">Reservation</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">PointToPointService</span></span></span><a class="headerlink" href="#supa.util.converter.to_p2p_service" title="Permalink to this definition"></a></dt>
<dd><p>Create Protobuf <code class="docutils literal notranslate"><span class="pre">PointToPointService</span></code> out of DB stored reservation data.</p>
<p>See Also: warning in <a class="reference internal" href="#supa.util.converter.to_header" title="supa.util.converter.to_header"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_header()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>reservation</strong>  DB Model</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <code class="docutils literal notranslate"><span class="pre">PointToPointService</span></code> object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.util.converter.to_confirm_criteria">
<span class="sig-prename descclassname"><span class="pre">supa.util.converter.</span></span><span class="sig-name descname"><span class="pre">to_confirm_criteria</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reservation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#supa.db.model.Reservation" title="supa.db.model.Reservation"><span class="pre">Reservation</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ReservationConfirmCriteria</span></span></span><a class="headerlink" href="#supa.util.converter.to_confirm_criteria" title="Permalink to this definition"></a></dt>
<dd><p>Create Protobuf <code class="docutils literal notranslate"><span class="pre">ReservationConfirmCriteria</span></code> out of DB stored reservation data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>reservation</strong>  DB Model</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <code class="docutils literal notranslate"><span class="pre">ReservationConfirmCriteria</span></code> object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.util.converter.to_criteria">
<span class="sig-prename descclassname"><span class="pre">supa.util.converter.</span></span><span class="sig-name descname"><span class="pre">to_criteria</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reservation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#supa.db.model.Reservation" title="supa.db.model.Reservation"><span class="pre">Reservation</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">QueryResultCriteria</span></span></span><a class="headerlink" href="#supa.util.converter.to_criteria" title="Permalink to this definition"></a></dt>
<dd><p>Create Protobuf <code class="docutils literal notranslate"><span class="pre">QueryResultCriteria</span></code> out of DB stored reservation data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>reservation</strong>  DB Model</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <code class="docutils literal notranslate"><span class="pre">QueryResultCriteria</span></code> object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.util.converter.to_response_header">
<span class="sig-prename descclassname"><span class="pre">supa.util.converter.</span></span><span class="sig-name descname"><span class="pre">to_response_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request_header</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Header</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Header</span></span></span><a class="headerlink" href="#supa.util.converter.to_response_header" title="Permalink to this definition"></a></dt>
<dd><p>Create Protobuf response <code class="docutils literal notranslate"><span class="pre">Header</span></code> out of a Protobuf request <code class="docutils literal notranslate"><span class="pre">Header</span></code>.</p>
<p>The reply_to field holds the Requester NSAs SOAP endpoint address to which
asynchronous messages associated with this operation request will be delivered.
This is only populated for the original operation request (reserve, provision,
release, terminate and query), and not for any additional messaging associated
with the operation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>request_header</strong>  Protobuf Header from request messsage.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <code class="docutils literal notranslate"><span class="pre">Header</span></code> copy of the input with reply_to cleared.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.util.converter.to_error_request">
<span class="sig-prename descclassname"><span class="pre">supa.util.converter.</span></span><span class="sig-name descname"><span class="pre">to_error_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request_header</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Header</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nsi_exc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#supa.job.shared.NsiException" title="supa.job.shared.NsiException"><span class="pre">NsiException</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">connection_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UUID</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ErrorRequest</span></span></span><a class="headerlink" href="#supa.util.converter.to_error_request" title="Permalink to this definition"></a></dt>
<dd><p>Return a NSI ErrorRequest referencing the request correlation_id together with details from the NsiException.</p>
<p>The error message is sent from a PA to an RA in response to an outstanding operation request
when an error condition encountered, and as a result, the operation cannot be successfully completed.
The correlationId carried in the NSI CS header structure will identify the original request associated
with this error message.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.util.converter.to_notification_header">
<span class="sig-prename descclassname"><span class="pre">supa.util.converter.</span></span><span class="sig-name descname"><span class="pre">to_notification_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reservation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#supa.db.model.Reservation" title="supa.db.model.Reservation"><span class="pre">Reservation</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Notification</span></span></span><a class="headerlink" href="#supa.util.converter.to_notification_header" title="Permalink to this definition"></a></dt>
<dd><p>Return new notification with unique id in the context of the reservation.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.util.converter.to_data_plane_state_change_request">
<span class="sig-prename descclassname"><span class="pre">supa.util.converter.</span></span><span class="sig-name descname"><span class="pre">to_data_plane_state_change_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reservation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#supa.db.model.Reservation" title="supa.db.model.Reservation"><span class="pre">Reservation</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataPlaneStateChangeRequest</span></span></span><a class="headerlink" href="#supa.util.converter.to_data_plane_state_change_request" title="Permalink to this definition"></a></dt>
<dd><p>Return a NSI dataPlaneStateChange notification.</p>
<p>The dataPlaneStateChange is an autonomous notification sent from a PA to an RA
to inform about a change in status of the data plane.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.util.converter.to_error_event">
<span class="sig-prename descclassname"><span class="pre">supa.util.converter.</span></span><span class="sig-name descname"><span class="pre">to_error_event</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reservation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#supa.db.model.Reservation" title="supa.db.model.Reservation"><span class="pre">Reservation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">nsi_exc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#supa.job.shared.NsiException" title="supa.job.shared.NsiException"><span class="pre">NsiException</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">event</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ErrorEventRequest</span></span></span><a class="headerlink" href="#supa.util.converter.to_error_event" title="Permalink to this definition"></a></dt>
<dd><p>Return a NSI Error Event notification.</p>
<p>An Error Event is an autonomous message issued from a Provider NSA to
a Requester NSA when an existing reservation encounters an
autonomous error condition such as being administratively terminated
before the reservations scheduled end-time.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.util.converter.to_activate_failed_event">
<span class="sig-prename descclassname"><span class="pre">supa.util.converter.</span></span><span class="sig-name descname"><span class="pre">to_activate_failed_event</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reservation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#supa.db.model.Reservation" title="supa.db.model.Reservation"><span class="pre">Reservation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">nsi_exc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#supa.job.shared.NsiException" title="supa.job.shared.NsiException"><span class="pre">NsiException</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ErrorEventRequest</span></span></span><a class="headerlink" href="#supa.util.converter.to_activate_failed_event" title="Permalink to this definition"></a></dt>
<dd><p>Return a NSI Error Event of type Activate Failed.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.util.converter.to_deactivate_failed_event">
<span class="sig-prename descclassname"><span class="pre">supa.util.converter.</span></span><span class="sig-name descname"><span class="pre">to_deactivate_failed_event</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reservation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#supa.db.model.Reservation" title="supa.db.model.Reservation"><span class="pre">Reservation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">nsi_exc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#supa.job.shared.NsiException" title="supa.job.shared.NsiException"><span class="pre">NsiException</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ErrorEventRequest</span></span></span><a class="headerlink" href="#supa.util.converter.to_deactivate_failed_event" title="Permalink to this definition"></a></dt>
<dd><p>Return a NSI Error Event of type Deactivate Failed.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.util.converter.to_dataplane_error_event">
<span class="sig-prename descclassname"><span class="pre">supa.util.converter.</span></span><span class="sig-name descname"><span class="pre">to_dataplane_error_event</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reservation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#supa.db.model.Reservation" title="supa.db.model.Reservation"><span class="pre">Reservation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">nsi_exc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#supa.job.shared.NsiException" title="supa.job.shared.NsiException"><span class="pre">NsiException</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ErrorEventRequest</span></span></span><a class="headerlink" href="#supa.util.converter.to_dataplane_error_event" title="Permalink to this definition"></a></dt>
<dd><p>Return a NSI Error Event of type Dataplane Error.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.util.converter.to_forced_end_event">
<span class="sig-prename descclassname"><span class="pre">supa.util.converter.</span></span><span class="sig-name descname"><span class="pre">to_forced_end_event</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reservation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#supa.db.model.Reservation" title="supa.db.model.Reservation"><span class="pre">Reservation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">nsi_exc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#supa.job.shared.NsiException" title="supa.job.shared.NsiException"><span class="pre">NsiException</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ErrorEventRequest</span></span></span><a class="headerlink" href="#supa.util.converter.to_forced_end_event" title="Permalink to this definition"></a></dt>
<dd><p>Return a NSI Error Event of type Forced End.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.util.converter.to_generic_confirmed_request">
<span class="sig-prename descclassname"><span class="pre">supa.util.converter.</span></span><span class="sig-name descname"><span class="pre">to_generic_confirmed_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reservation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#supa.db.model.Reservation" title="supa.db.model.Reservation"><span class="pre">Reservation</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">GenericConfirmedRequest</span></span></span><a class="headerlink" href="#supa.util.converter.to_generic_confirmed_request" title="Permalink to this definition"></a></dt>
<dd><p>Create a protobuf generic confirmed request from a Reservation.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.util.converter.to_generic_failed_request">
<span class="sig-prename descclassname"><span class="pre">supa.util.converter.</span></span><span class="sig-name descname"><span class="pre">to_generic_failed_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reservation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#supa.db.model.Reservation" title="supa.db.model.Reservation"><span class="pre">Reservation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">nsi_exc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#supa.job.shared.NsiException" title="supa.job.shared.NsiException"><span class="pre">NsiException</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">GenericFailedRequest</span></span></span><a class="headerlink" href="#supa.util.converter.to_generic_failed_request" title="Permalink to this definition"></a></dt>
<dd><p>Create a protobuf generic failed request from a Reservation and NsiException.</p>
</dd></dl>

</section>
<section id="module-supa.util.timestamp">
<span id="supa-util-timestamp"></span><h2>supa.util.timestamp<a class="headerlink" href="#module-supa.util.timestamp" title="Permalink to this heading"></a></h2>
<p>Assorted helper functions and datastructures for dealing with timestamps.</p>
<dl class="py data">
<dt class="sig sig-object py" id="supa.util.timestamp.EPOCH">
<span class="sig-prename descclassname"><span class="pre">supa.util.timestamp.</span></span><span class="sig-name descname"><span class="pre">EPOCH</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">datetime.datetime(1970,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">tzinfo=datetime.timezone.utc)</span></em><a class="headerlink" href="#supa.util.timestamp.EPOCH" title="Permalink to this definition"></a></dt>
<dd><p>The epoch as an aware datetime object.</p>
<p>When using protobuf you can <strong>not</strong> distinguish between
no value specified
and the default value.
For Protobuf <code class="docutils literal notranslate"><span class="pre">Timestamp</span></code> fields the default value is 0 seconds since the epoch.
However we deal with <code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code> objects exclusively.
So we need the epoch as a <code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code> object.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="supa.util.timestamp.NO_END_DATE">
<span class="sig-prename descclassname"><span class="pre">supa.util.timestamp.</span></span><span class="sig-name descname"><span class="pre">NO_END_DATE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">datetime.datetime(2108,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">tzinfo=datetime.timezone.utc)</span></em><a class="headerlink" href="#supa.util.timestamp.NO_END_DATE" title="Permalink to this definition"></a></dt>
<dd><p>A sufficiently far into the future date to be considered <em>no end date</em></p>
<p>Date/time calculations are easier when we have an actual date to work with.
Hence, to model no end date we need to come up with a date
that is far enough into the future to be considered forever.
Randomly picking a large number for the year of such a date feels inappropriate;
we can be a lot more geeky about it than that.</p>
<p>So, a somewhat geeky candidate is the first prime number after (the year) 2020.
That happens to be 2081;
61 years into the future.
Although we have high hopes for SuPA,
we dont expect it to last that long.
As such, it does meet the criterion to be considered forever.
But the fact that it starts with 20xx
might not make it immediately obvious that this is the no end date date.</p>
<p>If we shuffle a bit with the digits of that prime number we get 2108.
A date that starts with 21xx should make it sufficiently different
from all the other real end dates.
On top of that it is a somewhat a geeky date as well.
That is, if you like (military) SciFi
and have read The Frontlines Series by Marko Kloos,
which is set in the year 2108.
All criteria have now been met.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.util.timestamp.current_timestamp">
<span class="sig-prename descclassname"><span class="pre">supa.util.timestamp.</span></span><span class="sig-name descname"><span class="pre">current_timestamp</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">datetime</span></span></span><a class="headerlink" href="#supa.util.timestamp.current_timestamp" title="Permalink to this definition"></a></dt>
<dd><p>Return an aware UTC timestamp for now.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>An aware UTC timestamp.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.util.timestamp.as_utc_timestamp">
<span class="sig-prename descclassname"><span class="pre">supa.util.timestamp.</span></span><span class="sig-name descname"><span class="pre">as_utc_timestamp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timestamp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Timestamp</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">datetime</span></span></span><a class="headerlink" href="#supa.util.timestamp.as_utc_timestamp" title="Permalink to this definition"></a></dt>
<dd><p>Convert Protobuf timestamp to an UTC datetime object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>timestamp</strong>  Protobuf timestamp</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>aware UTC datetime object</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.util.timestamp.is_specified">
<span class="sig-prename descclassname"><span class="pre">supa.util.timestamp.</span></span><span class="sig-name descname"><span class="pre">is_specified</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timestamp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#supa.util.timestamp.is_specified" title="Permalink to this definition"></a></dt>
<dd><p>Test to see if the timestamp is specified.</p>
<p>In the context of Protobuf Timestamps
we consider a timestamp
(previously converted to <code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code>)
to be specified
if it is larger than the default value for Timestamps.
That default value being <a class="reference internal" href="#supa.util.timestamp.EPOCH" title="supa.util.timestamp.EPOCH"><code class="xref py py-data docutils literal notranslate"><span class="pre">EPOCH</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>timestamp</strong>  timestamp under test.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if <code class="docutils literal notranslate"><span class="pre">timestamp</span></code> &gt; EPOC</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-supa.util.nsi">
<span id="supa-util-nsi"></span><h2>supa.util.nsi<a class="headerlink" href="#module-supa.util.nsi" title="Permalink to this heading"></a></h2>
<p>NSI specific functions and datastructures.</p>
<dl class="py data">
<dt class="sig sig-object py" id="supa.util.nsi.URN_PREFIX">
<span class="sig-prename descclassname"><span class="pre">supa.util.nsi.</span></span><span class="sig-name descname"><span class="pre">URN_PREFIX</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'urn:ogf:network'</span></em><a class="headerlink" href="#supa.util.nsi.URN_PREFIX" title="Permalink to this definition"></a></dt>
<dd><p>URN namespace for Network Resources.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.util.nsi.Stp">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.util.nsi.</span></span><span class="sig-name descname"><span class="pre">Stp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">topology</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stp_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.util.nsi.Stp" title="Permalink to this definition"></a></dt>
<dd><p>Dataclass for representing the constituent parts of an STP identifier.</p>
<dl class="py property">
<dt class="sig sig-object py" id="supa.util.nsi.Stp.vlan_ranges">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">vlan_ranges</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#supa.util.vlan.VlanRanges" title="supa.util.vlan.VlanRanges"><span class="pre">VlanRanges</span></a></em><a class="headerlink" href="#supa.util.nsi.Stp.vlan_ranges" title="Permalink to this definition"></a></dt>
<dd><p>Return the vlan ranges specified on the STP.</p>
<p>A single
If no vlan ranges where specified on the STP,
this will return an empty <a class="reference internal" href="#supa.util.vlan.VlanRanges" title="supa.util.vlan.VlanRanges"><code class="xref py py-class docutils literal notranslate"><span class="pre">VlanRanges</span></code></a> object.
Such an object will evaluate to False in a boolean context.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A <a class="reference internal" href="#supa.util.vlan.VlanRanges" title="supa.util.vlan.VlanRanges"><code class="xref py py-class docutils literal notranslate"><span class="pre">VlanRanges</span></code></a> object.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.util.nsi.parse_stp">
<span class="sig-prename descclassname"><span class="pre">supa.util.nsi.</span></span><span class="sig-name descname"><span class="pre">parse_stp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#supa.util.nsi.Stp" title="supa.util.nsi.Stp"><span class="pre">Stp</span></a></span></span><a class="headerlink" href="#supa.util.nsi.parse_stp" title="Permalink to this definition"></a></dt>
<dd><p>Parse STP identifier in its constituent parts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>stp</strong>  Identifier of the STP</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#supa.util.nsi.Stp" title="supa.util.nsi.Stp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stp</span></code></a> dataclass</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="supa-util-vlan">
<h2>supa.util.vlan<a class="headerlink" href="#supa-util-vlan" title="Permalink to this heading"></a></h2>
<span class="target" id="module-supa.util.vlan"></span><p>VlanRanges object for easy VLAN ranges processing.</p>
<dl class="py class">
<dt class="sig sig-object py" id="supa.util.vlan.VlanRanges">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.util.vlan.</span></span><span class="sig-name descname"><span class="pre">VlanRanges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.util.vlan.VlanRanges" title="Permalink to this definition"></a></dt>
<dd><p>Represent VLAN ranges.</p>
<p>This class is quite liberal in what it accepts as valid VLAN ranges. All of:</p>
<ul class="simple">
<li><p>overlapping ranges</p></li>
<li><p>ranges with start value &gt; stop value</p></li>
<li><p>ranges with extraneous whitespace</p></li>
</ul>
<p>are all accepted and normalized to a canonical value.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># These are all equivalent</span>
<span class="n">VlanRanges</span><span class="p">(</span><span class="s2">&quot;4,10-12,11-14&quot;</span><span class="p">)</span>
<span class="n">VlanRanges</span><span class="p">(</span><span class="s2">&quot;4,  ,11 - 14, 10-  12&quot;</span><span class="p">)</span>
<span class="n">VlanRanges</span><span class="p">(</span><span class="s2">&quot;4,10-14&quot;</span><span class="p">)</span>
<span class="n">VlanRanges</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">])</span>
<span class="n">VlanRanges</span><span class="p">([[</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">12</span><span class="p">],</span> <span class="p">[</span><span class="mi">11</span><span class="p">,</span><span class="mi">14</span><span class="p">]])</span>
<span class="n">VlanRanges</span><span class="p">([(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">14</span><span class="p">)])</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This class support most <code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code> operations.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="supa.util.vlan.VlanRanges.to_list_of_tuples">
<span class="sig-name descname"><span class="pre">to_list_of_tuples</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#supa.util.vlan.VlanRanges.to_list_of_tuples" title="Permalink to this definition"></a></dt>
<dd><p>Construct list of tuples representing the VLAN ranges.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">VlanRanges</span><span class="p">(</span><span class="s2">&quot;10 - 12, 8&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to_list_of_tuples</span><span class="p">()</span>
<span class="go">[(8, 8), (10, 12)]</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The VLAN ranges as contained in this object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.util.vlan.VlanRanges.__contains__">
<span class="sig-name descname"><span class="pre">__contains__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">object</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#supa.util.vlan.VlanRanges.__contains__" title="Permalink to this definition"></a></dt>
<dd><p>Membership test.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.util.vlan.VlanRanges.__iter__">
<span class="sig-name descname"><span class="pre">__iter__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#supa.util.vlan.VlanRanges.__iter__" title="Permalink to this definition"></a></dt>
<dd><p>Return an iterator that iterates over all the VLANs.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.util.vlan.VlanRanges.__len__">
<span class="sig-name descname"><span class="pre">__len__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#supa.util.vlan.VlanRanges.__len__" title="Permalink to this definition"></a></dt>
<dd><p>Return the number of VLANs represented by this VlanRanges object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of VLANs</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.util.vlan.VlanRanges.__str__">
<span class="sig-name descname"><span class="pre">__str__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#supa.util.vlan.VlanRanges.__str__" title="Permalink to this definition"></a></dt>
<dd><p>Create an as compact as possible string representation of VLAN ranges.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">VlanRanges</span><span class="p">(</span><span class="s2">&quot;1,2,3,4,5-10,8&quot;</span><span class="p">))</span>
<span class="go">&#39;1-10&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.util.vlan.VlanRanges.__repr__">
<span class="sig-name descname"><span class="pre">__repr__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#supa.util.vlan.VlanRanges.__repr__" title="Permalink to this definition"></a></dt>
<dd><p>Create string representation of the VLAN ranges that can be used as a valid Python expression.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">repr</span><span class="p">(</span><span class="n">VlanRanges</span><span class="p">(</span><span class="s2">&quot;1,2,3,4,5-10,8&quot;</span><span class="p">))</span>
<span class="go">&#39;VlanRanges([(1, 10)])&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.util.vlan.VlanRanges.__eq__">
<span class="sig-name descname"><span class="pre">__eq__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">object</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#supa.util.vlan.VlanRanges.__eq__" title="Permalink to this definition"></a></dt>
<dd><p>Test for equality.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.util.vlan.VlanRanges.__hash__">
<span class="sig-name descname"><span class="pre">__hash__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#supa.util.vlan.VlanRanges.__hash__" title="Permalink to this definition"></a></dt>
<dd><p>Calculate hash value.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.util.vlan.VlanRanges.__sub__">
<span class="sig-name descname"><span class="pre">__sub__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">AbstractSet</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#supa.util.vlan.VlanRanges" title="supa.util.vlan.VlanRanges"><span class="pre">VlanRanges</span></a></span></span><a class="headerlink" href="#supa.util.vlan.VlanRanges.__sub__" title="Permalink to this definition"></a></dt>
<dd><p>Remove VLANs from left operand that are in the right operand.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">VlanRanges</span><span class="p">(</span><span class="s2">&quot;1-10&quot;</span><span class="p">)</span> <span class="o">-</span> <span class="n">VlanRanges</span><span class="p">(</span><span class="s2">&quot;5-8&quot;</span><span class="p">)</span>
<span class="go">VlanRanges([(1, 4), (9, 10)])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.util.vlan.VlanRanges.__and__">
<span class="sig-name descname"><span class="pre">__and__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AbstractSet</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#supa.util.vlan.VlanRanges" title="supa.util.vlan.VlanRanges"><span class="pre">VlanRanges</span></a></span></span><a class="headerlink" href="#supa.util.vlan.VlanRanges.__and__" title="Permalink to this definition"></a></dt>
<dd><p>Intersection of two VlanRanges objects.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">VlanRanges</span><span class="p">(</span><span class="s2">&quot;10-20&quot;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">VlanRanges</span><span class="p">(</span><span class="s2">&quot;20-30&quot;</span><span class="p">)</span>
<span class="go">VlanRanges([(20, 20)])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.util.vlan.VlanRanges.__or__">
<span class="sig-name descname"><span class="pre">__or__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AbstractSet</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#supa.util.vlan.VlanRanges" title="supa.util.vlan.VlanRanges"><span class="pre">VlanRanges</span></a></span></span><a class="headerlink" href="#supa.util.vlan.VlanRanges.__or__" title="Permalink to this definition"></a></dt>
<dd><p>Union of two VlanRanges objects.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">VlanRanges</span><span class="p">(</span><span class="s2">&quot;10-20&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">VlanRanges</span><span class="p">(</span><span class="s2">&quot;20-30&quot;</span><span class="p">)</span>
<span class="go">VlanRanges([(10, 30)])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.util.vlan.VlanRanges.__xor__">
<span class="sig-name descname"><span class="pre">__xor__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AbstractSet</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#supa.util.vlan.VlanRanges" title="supa.util.vlan.VlanRanges"><span class="pre">VlanRanges</span></a></span></span><a class="headerlink" href="#supa.util.vlan.VlanRanges.__xor__" title="Permalink to this definition"></a></dt>
<dd><p>Symmetric difference of two VlanRanges objects.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">VlanRanges</span><span class="p">(</span><span class="s2">&quot;10-20&quot;</span><span class="p">)</span> <span class="o">^</span> <span class="n">VlanRanges</span><span class="p">(</span><span class="s2">&quot;20-30&quot;</span><span class="p">)</span>
<span class="go">VlanRanges([(10, 19), (21, 30)])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.util.vlan.VlanRanges.isdisjoint">
<span class="sig-name descname"><span class="pre">isdisjoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#supa.util.vlan.VlanRanges.isdisjoint" title="Permalink to this definition"></a></dt>
<dd><p>Return True if the VlanRanges object has no VLANs in common with the other VlanRanges object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.util.vlan.VlanRanges.union">
<span class="sig-name descname"><span class="pre">union</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">others</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AbstractSet</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#supa.util.vlan.VlanRanges" title="supa.util.vlan.VlanRanges"><span class="pre">VlanRanges</span></a></span></span><a class="headerlink" href="#supa.util.vlan.VlanRanges.union" title="Permalink to this definition"></a></dt>
<dd><p>Union of two or more VlanRanges objects.</p>
<p>This does work with sets as well.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">VlanRanges</span><span class="p">(</span><span class="s2">&quot;10-20&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">VlanRanges</span><span class="p">(</span><span class="s2">&quot;20-30&quot;</span><span class="p">),</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">})</span>
<span class="go">VlanRanges([(1, 4), (10, 30)])</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="module-supa.util.functional">
<span id="supa-util-functional"></span><h2>supa.util.functional<a class="headerlink" href="#module-supa.util.functional" title="Permalink to this heading"></a></h2>
<p>Assorted helper functions for representing the same data in different ways.</p>
<dl class="py function">
<dt class="sig sig-object py" id="supa.util.functional.expand_ranges">
<span class="sig-prename descclassname"><span class="pre">supa.util.functional.</span></span><span class="sig-name descname"><span class="pre">expand_ranges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ranges</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inclusive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#supa.util.functional.expand_ranges" title="Permalink to this definition"></a></dt>
<dd><p>Expand sequence of range definitions into sorted and deduplicated list of individual values.</p>
<p>A range definition is either a:</p>
<ul class="simple">
<li><p>one element sequence -&gt; an individual value.</p></li>
<li><p>two element sequence -&gt; a range of values (either inclusive or exclusive).</p></li>
</ul>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">expand_ranges</span><span class="p">([[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">]])</span>
<span class="go">[1, 2, 10, 11]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expand_ranges</span><span class="p">([[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">]],</span> <span class="n">inclusive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">[1, 2, 10, 11, 12]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expand_ranges</span><span class="p">([[]])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="w">    </span><span class="o">...</span>
<span class="gr">ValueError</span>: <span class="n">Expected 1 or 2 element list for range definition. Got f0 element list instead.</span>
</pre></div>
</div>
<p>Resulting list is sorted:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">expand_ranges</span><span class="p">([[</span><span class="mi">100</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">]],</span> <span class="n">inclusive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">[1, 2, 3, 4, 100]</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ranges</strong>  sequence of range definitions</p></li>
<li><p><strong>inclusive</strong>  are the stop values of the range definition inclusive or exclusive.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Sorted deduplicated list of individual values.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong>  if range definition is not a one or two element sequence.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.util.functional.to_ranges">
<span class="sig-prename descclassname"><span class="pre">supa.util.functional.</span></span><span class="sig-name descname"><span class="pre">to_ranges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">range</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#supa.util.functional.to_ranges" title="Permalink to this definition"></a></dt>
<dd><p>Convert a sorted iterable of ints to an iterable of range objects.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The iterable passed in should be sorted and not contain duplicate elements.</p>
</div>
<dl>
<dt>Examples::</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">to_ranges</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">46</span><span class="p">,</span> <span class="mi">47</span><span class="p">,</span> <span class="mi">49</span><span class="p">,</span> <span class="mi">51</span><span class="p">,</span> <span class="mi">53</span><span class="p">,</span> <span class="mi">54</span><span class="p">,</span> <span class="mi">55</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">57</span><span class="p">,</span> <span class="mi">58</span><span class="p">,</span> <span class="mi">59</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">61</span><span class="p">]))</span>
<span class="go">[range(2, 6), range(7, 10), range(45, 48), range(49, 50), range(51, 52), range(53, 62)]</span>
</pre></div>
</div>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>i</strong>  sorted iterable</p>
</dd>
<dt class="field-even">Yields<span class="colon">:</span></dt>
<dd class="field-even"><p>range object for each consecutive set of integers</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-supa.util.find">
<span id="supa-util-find"></span><h2>supa.util.find<a class="headerlink" href="#module-supa.util.find" title="Permalink to this heading"></a></h2>
<p>Utilities to find files and directories.</p>
<dl class="py function">
<dt class="sig sig-object py" id="supa.util.find.find_file">
<span class="sig-prename descclassname"><span class="pre">supa.util.find.</span></span><span class="sig-name descname"><span class="pre">find_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pathname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Path</span></span></span><a class="headerlink" href="#supa.util.find.find_file" title="Permalink to this definition"></a></dt>
<dd><p>Find file pathname along sys.path.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="supa.util.find.find_directory">
<span class="sig-prename descclassname"><span class="pre">supa.util.find.</span></span><span class="sig-name descname"><span class="pre">find_directory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pathname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Path</span></span></span><a class="headerlink" href="#supa.util.find.find_directory" title="Permalink to this definition"></a></dt>
<dd><p>Find directory pathname along sys.path.</p>
</dd></dl>

</section>
<section id="module-supa.util.type">
<span id="supa-util-type"></span><h2>supa.util.type<a class="headerlink" href="#module-supa.util.type" title="Permalink to this heading"></a></h2>
<p>Handy types to keep things sane.</p>
<dl class="py class">
<dt class="sig sig-object py" id="supa.util.type.ResultType">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.util.type.</span></span><span class="sig-name descname"><span class="pre">ResultType</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.util.type.ResultType" title="Permalink to this definition"></a></dt>
<dd><p>Capture the set of valid results as returned by QueryResult.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.util.type.NotificationType">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.util.type.</span></span><span class="sig-name descname"><span class="pre">NotificationType</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.util.type.NotificationType" title="Permalink to this definition"></a></dt>
<dd><p>Capture the set of valid notifications as returned by QueryNotification.</p>
</dd></dl>

</section>
<section id="supa-nrm-backend">
<span id="id1"></span><h2>supa.nrm.backend<a class="headerlink" href="#supa-nrm-backend" title="Permalink to this heading"></a></h2>
<span class="target" id="module-supa.nrm.backend"></span><dl class="py class">
<dt class="sig sig-object py" id="supa.nrm.backend.STP">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.nrm.backend.</span></span><span class="sig-name descname"><span class="pre">STP</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stp_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vlans</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_alias_in</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_alias_out</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bandwidth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000000000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">topology</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'topology'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.nrm.backend.STP" title="Permalink to this definition"></a></dt>
<dd><p>Properties of a Network Serivce Interface Service Termination Point.</p>
<p>The topology property is a placeholder for future multiple topology support.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.nrm.backend.BaseBackend">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.nrm.backend.</span></span><span class="sig-name descname"><span class="pre">BaseBackend</span></span><a class="headerlink" href="#supa.nrm.backend.BaseBackend" title="Permalink to this definition"></a></dt>
<dd><p>Default backend interface to Network Resource Manager.</p>
<p>Backend interface between the following NSI primitives and the local NRM:</p>
<p>reserve, reserve_timeout, reserve_commit, reserve_abort, provision, release, activate, deactivate and terminate</p>
<p>The arguments for all methods are the same
and all return an optional circuit_id if one was generated at this stage of the connections lifecycle.
Except for the reserve() all other methods have an additional circuit_id argument
that is set to the most recent returned circuit_id.
For example the reserve_commit():</p>
<dl class="simple">
<dt>def reserve_commit(</dt><dd><p>self,
connection_id: UUID,
bandwidth: int,
src_port_id: str,
src_vlan: int,
dst_port_id: str,
dst_vlan: int,
circuit_id: str,</p>
</dd>
<dt>) -&gt; Optional[str]:</dt><dd><p></p>
</dd>
</dl>
<p>An additional method topology() will be called just before the topology document is created
and will return a list of STPs that are exposed by the NRM.
When no backend is specified,
or the manual_topology option is set,
topology() will just return the STPs as configured through the SuPA CLI.</p>
<dl class="py method">
<dt class="sig sig-object py" id="supa.nrm.backend.BaseBackend.reserve">
<span class="sig-name descname"><span class="pre">reserve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UUID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bandwidth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_port_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_vlan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_port_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_vlan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#supa.nrm.backend.BaseBackend.reserve" title="Permalink to this definition"></a></dt>
<dd><p>Reserve resources in NRM.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.nrm.backend.BaseBackend.reserve_timeout">
<span class="sig-name descname"><span class="pre">reserve_timeout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UUID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bandwidth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_port_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_vlan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_port_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_vlan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">circuit_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#supa.nrm.backend.BaseBackend.reserve_timeout" title="Permalink to this definition"></a></dt>
<dd><p>Reserve timeout resources in NRM.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.nrm.backend.BaseBackend.reserve_commit">
<span class="sig-name descname"><span class="pre">reserve_commit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UUID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bandwidth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_port_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_vlan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_port_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_vlan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">circuit_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#supa.nrm.backend.BaseBackend.reserve_commit" title="Permalink to this definition"></a></dt>
<dd><p>Reserve commit resources in NRM.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.nrm.backend.BaseBackend.reserve_abort">
<span class="sig-name descname"><span class="pre">reserve_abort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UUID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bandwidth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_port_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_vlan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_port_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_vlan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">circuit_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#supa.nrm.backend.BaseBackend.reserve_abort" title="Permalink to this definition"></a></dt>
<dd><p>Reserve abort resources in NRM.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.nrm.backend.BaseBackend.provision">
<span class="sig-name descname"><span class="pre">provision</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UUID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bandwidth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_port_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_vlan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_port_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_vlan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">circuit_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#supa.nrm.backend.BaseBackend.provision" title="Permalink to this definition"></a></dt>
<dd><p>Provision resources in NRM.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.nrm.backend.BaseBackend.release">
<span class="sig-name descname"><span class="pre">release</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UUID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bandwidth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_port_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_vlan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_port_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_vlan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">circuit_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#supa.nrm.backend.BaseBackend.release" title="Permalink to this definition"></a></dt>
<dd><p>Release resources in NRM.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.nrm.backend.BaseBackend.activate">
<span class="sig-name descname"><span class="pre">activate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UUID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bandwidth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_port_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_vlan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_port_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_vlan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">circuit_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#supa.nrm.backend.BaseBackend.activate" title="Permalink to this definition"></a></dt>
<dd><p>Activate resources in NRM.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.nrm.backend.BaseBackend.deactivate">
<span class="sig-name descname"><span class="pre">deactivate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UUID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bandwidth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_port_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_vlan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_port_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_vlan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">circuit_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#supa.nrm.backend.BaseBackend.deactivate" title="Permalink to this definition"></a></dt>
<dd><p>Deactivate resources in NRM.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.nrm.backend.BaseBackend.terminate">
<span class="sig-name descname"><span class="pre">terminate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UUID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bandwidth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_port_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_vlan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_port_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_vlan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">circuit_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#supa.nrm.backend.BaseBackend.terminate" title="Permalink to this definition"></a></dt>
<dd><p>Terminate resources in NRM.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.nrm.backend.BaseBackend.topology">
<span class="sig-name descname"><span class="pre">topology</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#supa.nrm.backend.STP" title="supa.nrm.backend.STP"><span class="pre">STP</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#supa.nrm.backend.BaseBackend.topology" title="Permalink to this definition"></a></dt>
<dd><p>Get the list of exposed STPs from NRM.</p>
<p>Because this is a placeholder just return the STPs configured in the Topology table.</p>
</dd></dl>

</dd></dl>

</section>
<section id="supa-nrm-backends-example">
<h2>supa.nrm.backends.example<a class="headerlink" href="#supa-nrm-backends-example" title="Permalink to this heading"></a></h2>
<span class="target" id="module-supa.nrm.backends.example"></span><dl class="py class">
<dt class="sig sig-object py" id="supa.nrm.backends.example.BackendSettings">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.nrm.backends.example.</span></span><span class="sig-name descname"><span class="pre">BackendSettings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_env_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'&lt;object</span> <span class="pre">object&gt;'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_env_file_encoding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_env_nested_delimiter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_secrets_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">host</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'localhost'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">80</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.nrm.backends.example.BackendSettings" title="Permalink to this definition"></a></dt>
<dd><p>Backend settings with default values.</p>
<p>See also: the <code class="docutils literal notranslate"><span class="pre">src/supa/nrm/backends/example.env</span></code> file</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.nrm.backends.example.Backend">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.nrm.backends.example.</span></span><span class="sig-name descname"><span class="pre">Backend</span></span><a class="headerlink" href="#supa.nrm.backends.example.Backend" title="Permalink to this definition"></a></dt>
<dd><p>Example backend interface.</p>
<p>Only implement the calls that are needed to interface with the NRM.</p>
</dd></dl>

</section>
<section id="supa-nrm-backends-surf">
<h2>supa.nrm.backends.surf<a class="headerlink" href="#supa-nrm-backends-surf" title="Permalink to this heading"></a></h2>
<span class="target" id="module-supa.nrm.backends.surf"></span><dl class="py class">
<dt class="sig sig-object py" id="supa.nrm.backends.surf.BackendSettings">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.nrm.backends.surf.</span></span><span class="sig-name descname"><span class="pre">BackendSettings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_env_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'&lt;object</span> <span class="pre">object&gt;'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_env_file_encoding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_env_nested_delimiter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_secrets_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">host</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'http://localhost'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oauth2_active</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oidc_url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oidc_user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oidc_password</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_workflow_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">terminate_workflow_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">customer_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">product_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#supa.nrm.backends.surf.BackendSettings" title="Permalink to this definition"></a></dt>
<dd><p>Backend settings with default values.</p>
<p>See also: the <code class="docutils literal notranslate"><span class="pre">src/supa/nrm/backends/surf.env</span></code> file</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.nrm.backends.surf.Backend">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.nrm.backends.surf.</span></span><span class="sig-name descname"><span class="pre">Backend</span></span><a class="headerlink" href="#supa.nrm.backends.surf.Backend" title="Permalink to this definition"></a></dt>
<dd><p>SURF backend interface to workflow orchestrator.</p>
<dl class="py method">
<dt class="sig sig-object py" id="supa.nrm.backends.surf.Backend.activate">
<span class="sig-name descname"><span class="pre">activate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UUID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bandwidth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_port_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_vlan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_port_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_vlan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">circuit_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#supa.nrm.backends.surf.Backend.activate" title="Permalink to this definition"></a></dt>
<dd><p>Activate resources in NRM.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.nrm.backends.surf.Backend.deactivate">
<span class="sig-name descname"><span class="pre">deactivate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UUID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bandwidth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_port_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_vlan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_port_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_vlan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">circuit_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#supa.nrm.backends.surf.Backend.deactivate" title="Permalink to this definition"></a></dt>
<dd><p>Deactivate resources in NRM.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="supa.nrm.backends.surf.Backend.topology">
<span class="sig-name descname"><span class="pre">topology</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#supa.nrm.backend.STP" title="supa.nrm.backend.STP"><span class="pre">STP</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#supa.nrm.backends.surf.Backend.topology" title="Permalink to this definition"></a></dt>
<dd><p>Get exposed topology from NRM.</p>
</dd></dl>

</dd></dl>

</section>
<section id="supa-documents-discovery">
<h2>supa.documents.discovery<a class="headerlink" href="#supa-documents-discovery" title="Permalink to this heading"></a></h2>
<span class="target" id="module-supa.documents.discovery"></span><p>Generate a NSI discovery document.</p>
<p>Example discovery document:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;?xml version=&#39;1.0&#39; encoding=&#39;iso-8859-1&#39;?&gt;
&lt;nsa:nsa xmlns:nsa=&quot;http://schemas.ogf.org/nsi/2014/02/discovery/nsa&quot;
         xmlns:vcard=&quot;urn:ietf:params:xml:ns:vcard-4.0&quot;&gt;
  &lt;name&gt;My uPA&lt;/name&gt;
  &lt;adminContact&gt;
    &lt;vcard:vcard&gt;
      &lt;vcard:uid&gt;
        &lt;vcard:uri&gt;https://host.example.domain/nsi/v2/provider#adminContact&lt;/vcard:uri&gt;
      &lt;/vcard:uid&gt;
      &lt;vcard:prodid&gt;
        &lt;vcard:text&gt;SuPA-host.example.domain&lt;/vcard:text&gt;
      &lt;/vcard:prodid&gt;
      &lt;vcard:rev&gt;
        &lt;vcard:timestamp&gt;20200527T180758Z&lt;/vcard:timestamp&gt;
      &lt;/vcard:rev&gt;
      &lt;vcard:kind&gt;
        &lt;vcard:text&gt;Individual&lt;/vcard:text&gt;
      &lt;/vcard:kind&gt;
      &lt;vcard:fn&gt;
        &lt;vcard:text&gt;Firstname Lastname&lt;/vcard:text&gt;
      &lt;/vcard:fn&gt;
      &lt;vcard:n&gt;
        &lt;vcard:surname&gt;Firstname&lt;vcard:given&gt;Lastname&lt;/vcard:given&gt;&lt;/vcard:surname&gt;
      &lt;/vcard:n&gt;
    &lt;/vcard:vcard&gt;
  &lt;/adminContact&gt;
  &lt;location&gt;
    &lt;latitude&gt;-0.374350&lt;/latitude&gt;
    &lt;longitude&gt;-159.996719&lt;/longitude&gt;
  &lt;/location&gt;
  &lt;networkId&gt;urn:ogf:network:netherlight.net:2013:production7&lt;/networkId&gt;
  &lt;interface&gt;
    &lt;type&gt;application/vnd.ogf.nsi.topology.v2+xml&lt;/type&gt;
    &lt;href&gt;https://host.example.domain/nsi-topology/production7&lt;/href&gt;
  &lt;/interface&gt;
  &lt;interface&gt;
    &lt;type&gt;application/vnd.ogf.nsi.cs.v2.provider+soap&lt;/type&gt;
    &lt;href&gt;https://host.example.domain/nsi/v2/provider&lt;/href&gt;
  &lt;/interface&gt;
  &lt;feature type=&quot;vnd.ogf.nsi.cs.v2.role.uPA&quot;/&gt;
&lt;/nsa:nsa&gt;
</pre></div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="supa.documents.discovery.DiscoveryEndpoint">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.documents.discovery.</span></span><span class="sig-name descname"><span class="pre">DiscoveryEndpoint</span></span><a class="headerlink" href="#supa.documents.discovery.DiscoveryEndpoint" title="Permalink to this definition"></a></dt>
<dd><p>A cherryPy application to generate a NSI discovery document.</p>
<dl class="py method">
<dt class="sig sig-object py" id="supa.documents.discovery.DiscoveryEndpoint.index">
<span class="sig-name descname"><span class="pre">index</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span></span></span><a class="headerlink" href="#supa.documents.discovery.DiscoveryEndpoint.index" title="Permalink to this definition"></a></dt>
<dd><p>Index returns the generated NSI discovery document.</p>
</dd></dl>

</dd></dl>

</section>
<section id="supa-documents-topology">
<h2>supa.documents.topology<a class="headerlink" href="#supa-documents-topology" title="Permalink to this heading"></a></h2>
<span class="target" id="module-supa.documents.topology"></span><p>Generate a NSI topology document.</p>
<p>Example topology document:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;?xml version=&#39;1.0&#39; encoding=&#39;iso-8859-1&#39;?&gt;
&lt;ns3:Topology xmlns:ns3=&quot;http://schemas.ogf.org/nml/2013/05/base#&quot;
              xmlns:ns5=&quot;http://schemas.ogf.org/nsi/2013/12/services/definition&quot;
              id=&quot;urn:ogf:network:example.domain:2001:topology&quot;
              version=&quot;2022-06-06T13:25:37+00:00&quot;&gt;

  &lt;ns3:name&gt;example.domain topology&lt;/ns3:name&gt;
  &lt;ns3:Lifetime&gt;
    &lt;ns3:start&gt;2022-06-06T13:25:37+00:00&lt;/ns3:start&gt;
    &lt;ns3:end&gt;2022-06-13T13:25:37+00:00&lt;/ns3:end&gt;
  &lt;/ns3:Lifetime&gt;

  &lt;ns3:BidirectionalPort id=&quot;urn:ogf:network:example.domain:2001:topology:port1&quot;&gt;
    &lt;ns3:name&gt;port description&lt;/ns3:name&gt;
    &lt;ns3:PortGroup id=&quot;urn:ogf:network:example.domain:2001:topology:port1:in&quot;/&gt;
    &lt;ns3:PortGroup id=&quot;urn:ogf:network:example.domain:2001:topology:port1:out&quot;/&gt;
  &lt;/ns3:BidirectionalPort&gt;

  &lt;ns5:serviceDefinition id=&quot;urn:ogf:network:example.domain:2001:topology:sd:EVTS.A-GOLE&quot;&gt;
    &lt;name&gt;GLIF Automated GOLE Ethernet VLAN Transfer Service&lt;/name&gt;
    &lt;serviceType&gt;http://services.ogf.org/nsi/2013/12/descriptions/EVTS.A-GOLE&lt;/serviceType&gt;
  &lt;/ns5:serviceDefinition&gt;
  &lt;ns3:Relation type=&quot;http://schemas.ogf.org/nml/2013/05/base#hasService&quot;&gt;
    &lt;ns3:SwitchingService encoding=&quot;http://schemas.ogf.org/nml/2012/10/ethernet&quot;
                          id=&quot;urn:ogf:network:example.domain:2001:topology:switch:EVTS.A-GOLE&quot;
                          labelSwapping=&quot;true&quot;
                          labelType=&quot;http://schemas.ogf.org/nml/2012/10/ethernet#vlan&quot;&gt;
      &lt;ns3:Relation type=&quot;http://schemas.ogf.org/nml/2013/05/base#hasInboundPort&quot;&gt;
        &lt;ns3:PortGroup id=&quot;urn:ogf:network:example.domain:2001:topology:port1:in&quot;/&gt;
      &lt;/ns3:Relation&gt;
      &lt;ns3:Relation type=&quot;http://schemas.ogf.org/nml/2013/05/base#hasOutboundPort&quot;&gt;
        &lt;ns3:PortGroup id=&quot;urn:ogf:network:example.domain:2001:topology:port1:out&quot;/&gt;
      &lt;/ns3:Relation&gt;
      &lt;ns5:serviceDefinition id=&quot;urn:ogf:network:example.domain:2001:topology:sd:EVTS.A-GOLE&quot;/&gt;
    &lt;/ns3:SwitchingService&gt;
  &lt;/ns3:Relation&gt;

  &lt;ns3:Relation type=&quot;http://schemas.ogf.org/nml/2013/05/base#hasInboundPort&quot;&gt;
    &lt;ns3:PortGroup encoding=&quot;http://schemas.ogf.org/nml/2012/10/ethernet&quot;
                   id=&quot;urn:ogf:network:example.domain:2001:topology:port1:in&quot;&gt;
      &lt;ns3:LabelGroup labeltype=&quot;http://schemas.ogf.org/nml/2012/10/ethernet#vlan&quot;&gt;1779-1799&lt;/ns3:LabelGroup&gt;
    &lt;/ns3:PortGroup&gt;
  &lt;/ns3:Relation&gt;
  &lt;ns3:Relation type=&quot;http://schemas.ogf.org/nml/2013/05/base#hasOutboundPort&quot;&gt;
    &lt;ns3:PortGroup encoding=&quot;http://schemas.ogf.org/nml/2012/10/ethernet&quot;
                   id=&quot;urn:ogf:network:example.domain:2001:topology:port1:out&quot;&gt;
      &lt;ns3:LabelGroup labeltype=&quot;http://schemas.ogf.org/nml/2012/10/ethernet#vlan&quot;&gt;1779-1799&lt;/ns3:LabelGroup&gt;
    &lt;/ns3:PortGroup&gt;
  &lt;/ns3:Relation&gt;

&lt;/ns3:Topology&gt;
</pre></div>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="supa.documents.topology.refresh_topology">
<span class="sig-prename descclassname"><span class="pre">supa.documents.topology.</span></span><span class="sig-name descname"><span class="pre">refresh_topology</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#supa.documents.topology.refresh_topology" title="Permalink to this definition"></a></dt>
<dd><p>Refresh list of STPs in the database with topology from NRM.</p>
<p>Skip refresh if configured for manual topology,
also skip if topology has been refreshed withing <cite>topology_freshness</cite> seconds.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="supa.documents.topology.TopologyEndpoint">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.documents.topology.</span></span><span class="sig-name descname"><span class="pre">TopologyEndpoint</span></span><a class="headerlink" href="#supa.documents.topology.TopologyEndpoint" title="Permalink to this definition"></a></dt>
<dd><p>A cherryPy application to generate a NSI topology document.</p>
<dl class="py method">
<dt class="sig sig-object py" id="supa.documents.topology.TopologyEndpoint.index">
<span class="sig-name descname"><span class="pre">index</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span></span></span><a class="headerlink" href="#supa.documents.topology.TopologyEndpoint.index" title="Permalink to this definition"></a></dt>
<dd><p>Index returns the generated NSI topology document.</p>
</dd></dl>

</dd></dl>

</section>
<section id="supa-documents-healthcheck">
<h2>supa.documents.healthcheck<a class="headerlink" href="#supa-documents-healthcheck" title="Permalink to this heading"></a></h2>
<span class="target" id="module-supa.documents.healthcheck"></span><p>Healthcheck endpoint.</p>
<dl class="py class">
<dt class="sig sig-object py" id="supa.documents.healthcheck.HealthcheckEndpoint">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">supa.documents.healthcheck.</span></span><span class="sig-name descname"><span class="pre">HealthcheckEndpoint</span></span><a class="headerlink" href="#supa.documents.healthcheck.HealthcheckEndpoint" title="Permalink to this definition"></a></dt>
<dd><p>A cherryPy application to generate a healthcheck document.</p>
<dl class="py method">
<dt class="sig sig-object py" id="supa.documents.healthcheck.HealthcheckEndpoint.index">
<span class="sig-name descname"><span class="pre">index</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span></span></span><a class="headerlink" href="#supa.documents.healthcheck.HealthcheckEndpoint.index" title="Permalink to this definition"></a></dt>
<dd><p>Index returns the generated healthcheck document.</p>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="changelog.html" class="btn btn-neutral float-left" title="Changelog" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, SURF.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>